<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">

    <!--
        Данные, которые считаются статическими, могут безопасно перезаливаться целиком, чтобы быть всегда
        синхронизированными с csv файлами.
        Если все данные в таблице статические, то полностью очищаем таблицу, а потом заливаем заново с помощью loadData.
        Если часть данных являются статическими (как в Subject), то очищаем по условию, чтобы ненароком не удалить
        на продакшене динамическую часть, и заливаем с помощью loadData.
        Если данные перезаливаются с помощью loadUpdateData, то надо иметь в виду, что оно не поддерживает
        удаление данных. Т.е. если вы удалите строки из csv, то они не удалятся после исполнения loadUpdateData.
        Именно по этому loadUpdateData постепенно заменяется связкой: очистить таблицу, и вызвать loadData.

        Чтобы в процессе обновления данных не падали констрейнты, выполняется команда
        SET CONSTRAINTS ALL DEFERRED;
        Она означает, что все констрейнты надо проверять толкько при коммите транзакции, а коммит транзакции наступает
        после выполнения всех команд внутри changeSet. Таким образом, можно временно нарушать целостность данных, но
        в самом конце перед коммитом целостность должна быть восстановлена.

        Важно! Перезагрузку данных нужно выполнять в одном changeSet-е, только это дает максимальный контроль над
        целостностью данных. Именно поэтому был убран файл load-data-base.xml и его ченжсет "Update data" и перенесен в этот файл.
        Тем не менее в base остался load-data-local.xml нужный для тестов в base, но он перезаписывается этим файлом при сборке
        проекта central.
    -->
    <changeSet id="Update data" author="brunneng" runOnChange="true">

        <sql splitStatements="true" dbms="postgresql"><![CDATA[
            SET CONSTRAINTS ALL DEFERRED;

            DELETE FROM "SubjectGroupTree";
            DELETE FROM "SubjectGroup";
            DELETE FROM "SubjectOrganDepartment";

            DELETE FROM "SubjectOrganJoinAttribute";
            DELETE FROM "SubjectOrganJoin";
            DELETE FROM "SubjectAccount" where "nID" < 20000;
            DELETE FROM "SubjectContact" where "nID" < 20000;
            DELETE FROM "Subject" where "nID" < 20000;
            DELETE FROM "Service";
            DELETE FROM "ServiceData";
            DELETE FROM "ServiceType";
            DELETE FROM "Region";
            DELETE FROM "City";
            DELETE FROM "Category";
            DELETE FROM "Subcategory";

            DELETE FROM "ServiceTagRelation";
            DELETE FROM "ServiceTagLink";
            DELETE FROM "ServiceTag";
            DELETE FROM "ServiceTagType";
            DELETE FROM "SubjectOrganJoinTax";
            DELETE FROM "ObjectCustoms";

            DELETE FROM "FlowProperty";
            DELETE FROM "FlowPropertyClass";
            DELETE FROM "FlowLink";

            DELETE FROM "EscalationRule";
            DELETE FROM "EscalationRuleFunction";

            DELETE FROM "AccessServiceLoginRole";
            DELETE FROM "AccessServiceRoleRightInclude";
            DELETE FROM "AccessServiceRoleRight";
            DELETE FROM "AccessServiceRole";
            DELETE FROM "AccessServiceRight";

        ]]></sql>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/Region.csv" tableName="Region" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sName" type="STRING"/>
            <column name="sID_UA" type="STRING"/>
        </loadUpdateData>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/City.csv" tableName="City" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sName" type="STRING"/>
            <column name="nID_Region" type="NUMERIC"/>
            <column name="sID_UA" type="STRING"/>
        </loadUpdateData>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/Category.csv" tableName="Category" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sID" type="STRING"/>
            <column name="sName" type="STRING"/>
            <column name="nOrder" type="NUMERIC"/>
            <column name="nID_Category" type="NUMERIC"/>
        </loadUpdateData>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/Subcategory.csv" tableName="Subcategory" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sID" type="STRING"/>
            <column name="sName" type="STRING"/>
            <column name="nOrder" type="NUMERIC"/>
        </loadUpdateData>

        <loadData encoding="UTF-8" file="data/SubjectOrganDepartment.csv"
                  tableName="SubjectOrganDepartment" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sName" type="STRING"/>
            <column name="sGroup_Activiti" type="STRING"/>
            <column name="nID_SubjectOrgan" type="NUMERIC"/>
        </loadData>

        <!-- Используем временную таблицу Flow_Tmp, чтобы удалить строки из Flow которых нет в Flow.csv -->
        <createTable tableName="Flow_Tmp">
            <column name="nID" type="bigint">
                <constraints primaryKey="true" nullable="false" unique="true"/>
            </column>
            <column name="sName" type="varchar(300)"/>
            <column name="nID_ServiceData" type="bigint"/>
            <column name="nID_SubjectOrganDepartment" type="bigint"/>
            <column name="sID_BP" type="varchar(200)"/>
            <column name="sGroup" type="varchar(100)"/>
            <column name="nCountAutoGenerate" type="NUMERIC"/>
        </createTable>

        <loadData encoding="UTF-8" file="data/Flow.csv" tableName="Flow_Tmp" separator=";">
            <column name="nID" type="NUMERIC"/>
        </loadData>

        <sql splitStatements="true" dbms="postgresql">
            delete from "Flow" where "nID" not in (select "nID" from "Flow_Tmp");
        </sql>

        <dropTable tableName="Flow_Tmp"/>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/Flow.csv" tableName="Flow" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sName" type="STRING"/>
            <column name="nID_ServiceData" type="NUMERIC"/>
            <column name="nID_SubjectOrganDepartment" type="NUMERIC"/> <!-- no foreign key constraint here -->
            <column name="sID_BP" type="STRING"/>
            <column name="nCountAutoGenerate" type="NUMERIC"/>
        </loadUpdateData>

        <loadData encoding="UTF-8" file="data/FlowLink.csv" tableName="FlowLink" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="nID_Flow" type="NUMERIC"/>
            <column name="nID_Service" type="NUMERIC"/>
            <column name="nID_SubjectOrganDepartment"  type="NUMERIC"/>
        </loadData>

        <loadData encoding="UTF-8" file="data/FlowPropertyClass.csv" tableName="FlowPropertyClass" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sName" type="STRING"/>
            <column name="sPath" type="STRING"/>
            <column name="sBeanName" type="STRING"/>
        </loadData>

        <loadData encoding="UTF-8" file="data/FlowProperty.csv" tableName="FlowProperty" separator=";">
            <column name="nID_FlowPropertyClass" type="NUMERIC"/>
            <column name="sData" type="STRING"/>
            <column name="nID_Flow" type="NUMERIC"/>
            <column name="bExclude" type="BOOLEAN" defaultValueBoolean="true"/>
            <column name="sName" type="STRING" defaultValue=""/>
            <column name="sRegionTime" type="STRING" defaultValue=""/>
            <column name="saRegionWeekDay" type="STRING" defaultValue=""/>
            <column name="sDateTimeAt" type="STRING" defaultValue=""/>
            <column name="sDateTimeTo" type="STRING" defaultValue=""/>
            <column name="nLen" type="NUMERIC"/>
            <column name="sLenType" type="STRING" defaultValue=""/>
        </loadData>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/FlowSlot.csv" tableName="FlowSlot" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sName" type="STRING"/>
            <column name="sDate" type="DATETIME"/>
            <column name="sData" type="STRING"/>
            <column name="nID_Flow" type="NUMERIC"/>
        </loadUpdateData>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/FlowSlotTicket.csv" tableName="FlowSlotTicket" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="nID_FlowSlot" type="NUMERIC"/>
            <column name="nID_Subject" type="NUMERIC"/>
            <column name="nID_Task_Activiti" type="NUMERIC"/>
            <column name="sDateStart" type="DATETIME"/>
            <column name="sDateFinish" type="DATETIME"/>
            <column name="sDateEdit" type="DATETIME"/>
        </loadUpdateData>

        <loadUpdateData primaryKey="nID_FlowSlotTicket,nID_FlowSlot" encoding="UTF-8" file="data/FlowSlotTicket_FlowSlot.csv" tableName="FlowSlotTicket_FlowSlot" separator=";">
            <column name="nID_FlowSlotTicket" type="NUMERIC"/>
            <column name="nID_FlowSlot" type="NUMERIC"/>
        </loadUpdateData>

        <loadData encoding="UTF-8" file="data/EscalationRuleFunction.csv" tableName="EscalationRuleFunction" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sName" type="STRING"/>
            <column name="sBeanHandler" type="STRING"/>
        </loadData>

        <loadData encoding="UTF-8" file="data/EscalationRule.csv" tableName="EscalationRule" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sID_BP" type="STRING"/>
            <column name="sID_UserTask" type="STRING"/>
            <column name="sCondition" type="STRING"/>
            <column name="soData" type="STRING"/>
            <column name="sPatternFile" type="STRING"/>
            <column name="nID_EscalationRuleFunction" type="NUMERIC"/>
        </loadData>

        <loadUpdateData tableName="EscalationStatus" primaryKey="nID" file="data/EscalationStatus.csv" encoding="UTF-8" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sID" type="STRING"/>
            <column name="sNote" type="STRING"/>
        </loadUpdateData>

        <loadUpdateData tableName="EscalationHistory" primaryKey="nID" file="data/EscalationHistory.csv" encoding="UTF-8" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sDate" type="DATETIME"/>
            <column name="nID_Process" type="NUMERIC"/>
            <column name="nID_Process_Root" type="NUMERIC"/>
            <column name="nID_UserTask" type="NUMERIC"/>
            <column name="nID_EscalationStatus" type="NUMERIC"/>
        </loadUpdateData>

        <loadUpdateData tableName="ActionTaskLinkType" primaryKey="nID" file="data/ActionTaskLinkType.csv" encoding="UTF-8" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sID" type="STRING"/>
            <column name="sName" type="STRING"/>
        </loadUpdateData>

        <loadUpdateData tableName="ActionProcessCount" primaryKey="nID" file="data/ActionProcessCount.csv" encoding="UTF-8" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sID_BP" type="STRING"/>
            <column name="nID_Service" type="NUMERIC"/>
            <column name="nCountYear" type="NUMERIC"/>
            <column name="nYear" type="NUMERIC"/>
        </loadUpdateData>

        <loadData tableName="AccessServiceRight" file="data/AccessServiceRight.csv" encoding="UTF-8" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sName" type="STRING"/>
            <column name="sService" type="STRING"/>
            <column name="saMethod" type="STRING"/>
            <column name="sHandlerBean" type="STRING"/>
            <column name="bDeny" type="BOOLEAN"/>
            <column name="nOrder" type="NUMERIC"/>
        </loadData>

        <loadData tableName="AccessServiceRole" file="data/AccessServiceRole.csv" encoding="UTF-8" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sName" type="STRING"/>
        </loadData>

        <loadData tableName="AccessServiceRoleRight" file="data/AccessServiceRoleRight.csv" encoding="UTF-8" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="nID_AccessServiceRole" type="NUMERIC"/>
            <column name="nID_AccessServiceRight" type="NUMERIC"/>
        </loadData>

        <loadData tableName="AccessServiceRoleRightInclude" file="data/AccessServiceRoleRightInclude.csv" encoding="UTF-8" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="nID_AccessServiceRole" type="NUMERIC"/>
            <column name="nID_AccessServiceRole_Include" type="NUMERIC"/>
        </loadData>

        <loadData tableName="AccessServiceLoginRole" file="data/AccessServiceLoginRole.csv" encoding="UTF-8" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sLogin" type="STRING"/>
            <column name="nID_AccessServiceRole" type="NUMERIC"/>
        </loadData>

        <delete tableName="ProcessSubjectStatus"/>

        <loadData tableName="ProcessSubjectStatus" file="data/ProcessSubjectStatus.csv" encoding="UTF-8" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sName" type="STRING"/>
            <column name="sID" type="STRING"/>
        </loadData>

        <loadData encoding="UTF-8" file="data/Subject.csv" tableName="Subject" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sID" type="STRING"/>
            <column name="sLabel" type="STRING"/>
            <column name="sLabelShort" type="STRING"/>
            <!--column name="nID_SubjectOrgan" type="NUMERIC"/>
            <column name="nID_SubjectHuman" type="NUMERIC"/-->
        </loadData>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/SubjectContactType.csv" tableName="SubjectContactType" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sName_EN" type="STRING"/>
            <column name="sName_RU" type="STRING"/>
            <column name="sName_UA" type="STRING"/>
        </loadUpdateData>

        <loadData encoding="UTF-8" file="data/SubjectContact.csv" tableName="SubjectContact" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="nID_Subject" type="NUMERIC"/>
            <column name="nID_SubjectContactType" type="NUMERIC"/>
            <column name="sValue" type="STRING"/>
        </loadData>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/SubjectHuman.csv" tableName="SubjectHuman" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="nID_Subject" type="NUMERIC"/>
            <column name="nID_SubjectHumanIdType" type="NUMERIC"/>
            <column name="sSB" type="STRING"/>
            <column name="sINN" type="STRING"/>
            <column name="sPassportSeria" type="STRING"/>
            <column name="sPassportNumber" type="STRING"/>
            <column name="sFamily" type="STRING"/>
            <column name="sName" type="STRING"/>
            <column name="sSurname" type="STRING"/>
            <column name="nID_SubjectContact_DefaultEmail" type="NUMERIC"/>
            <column name="nID_SubjectContact_DefaultPhone" type="NUMERIC"/>
            <column name="nID_Sex" type="NUMERIC"/>
        </loadUpdateData>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/SubjectOrgan.csv" tableName="SubjectOrgan" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="nID_Subject" type="NUMERIC"/>
            <column name="sOKPO" type="STRING"/>
            <column name="sFormPrivacy" type="STRING"/>
            <column name="sName" type="STRING"/>
            <column name="sNameFull" type="STRING"/>
        </loadUpdateData>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/SubjectHumanPositionCustom.csv" tableName="SubjectHumanPositionCustom" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sName" type="STRING"/>
            <column name="sNote" type="STRING"/>
        </loadUpdateData>

        <loadData encoding="UTF-8" file="data/SubjectGroup.csv" tableName="SubjectGroup" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sName" type="STRING"/>
            <column name="sID_Group_Activiti" type="STRING"/>
            <column name="sChain" type="STRING"/>
            <column name="nID_Subject" type="NUMERIC"/>
            <column name="nID_SubjectHumanPositionCustom" type="NUMERIC"/>
        </loadData>

        <loadData encoding="UTF-8" file="data/SubjectGroupTree.csv" tableName="SubjectGroupTree" separator=";">
            <column name="nID_SubjectGroup_Parent" type="NUMERIC"/>
            <column name="nID_SubjectGroup_Child" type="NUMERIC"/>
        </loadData>


        <!-- 3 связанные таблицы SubjectOrganJoin, SubjectOrganJoinAttribute
        перезагружаются каждый раз -->
        <loadData encoding="UTF-8" file="data/SubjectOrganJoin.csv" tableName="SubjectOrganJoin" separator=";">
            <column name="nID"              type="NUMERIC"/>
            <column name="nID_SubjectOrgan" type="NUMERIC"/>
            <column name="sNameUa"          type="STRING"/>
            <column name="sNameRu"          type="STRING"/>
            <column name="sID_Privat"       type="STRING"/>
            <column name="sID_Public"       type="STRING"/>
            <column name="sGeoLongitude"    type="STRING"/>
            <column name="sGeoLatitude"     type="STRING"/>
            <column name="nID_Region"       type="NUMERIC"/>
            <column name="nID_City"         type="NUMERIC"/>
            <column name="sID_UA"           type="STRING"/>
        </loadData>

        <loadData tableName="SubjectOrganJoinAttribute" file="data/SubjectOrganJoinAttribute.csv"  encoding="UTF-8" separator=";">
            <column name="nID_SubjectOrganJoin" type="NUMERIC"/>
            <column name="sName" type="STRING"/>
            <column name="sValue" type="STRING"/>
        </loadData>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/HistoryEvent_Service.csv"
                        tableName="HistoryEvent_Service" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sID" type="STRING"/>
            <column name="nID_Process" type="NUMERIC"/>
            <column name="nID_Subject" type="NUMERIC"/>
            <column name="sUserTaskName" type="STRING"/>
            <column name="sDate" type="STRING"/>
            <column name="nID_Service" type="NUMERIC"/>
            <column name="nID_Region" type="NUMERIC"/>
            <column name="sID_UA" type="STRING"/>
            <column name="soData" type="STRING"/>
            <column name="sToken" type="STRING"/>
            <column name="sHead" type="STRING"/>
            <column name="sBody" type="STRING"/>
            <column name="nTimeMinutes" type="NUMERIC"/>
            <column name="sID_Order" type="STRING"/>
            <column name="nID_Server" type="NUMERIC"/>
            <column name="nID_Proccess_Feedback" type="NUMERIC"/>
            <column name="nID_Proccess_Escalation" type="NUMERIC"/>
            <column name="nID_ServiceData" type="NUMERIC"/>
        </loadUpdateData>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/SubjectMessageType.csv" tableName="SubjectMessageType" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sName" type="STRING"/>
            <column name="sDescription" type="STRING"/>
        </loadUpdateData>

        <loadUpdateData tableName="SubjectMessage" primaryKey="nID" encoding="UTF-8" file="data/SubjectMessage.csv" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sHead" type="STRING"/>
            <column name="sBody" type="STRING"/>
            <column name="sDate" type="STRING"/>
            <column name="nID_Subject" type="STRING"/>
            <column name="sMail" type="STRING"/>
            <column name="sContacts" type="STRING"/>
            <column name="sData" type="STRING"/>
            <column name="nID_SubjectMessageType" type="STRING"/>
            <column name="sBody_Indirectly" type="STRING"/>
            <column name="nID_HistoryEvent_Service" type="NUMERIC"/>
            <column name="sSubjectInfo" type="STRING"/>
            <column name="sID_DataLink" type="STRING"/>
        </loadUpdateData>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/SubjectAccountType.csv" tableName="SubjectAccountType" separator=";">
            <column name="nID"     type="NUMERIC"/>
            <column name="sID"     type="STRING"/>
            <column name="sNote"   type="STRING"/>
        </loadUpdateData>

        <loadData encoding="UTF-8" file="data/SubjectAccount.csv" tableName="SubjectAccount" separator=";">
            <column name="nID"     type="NUMERIC"/>
            <column name="sLogin"  type="STRING"/>
            <column name="sNote"   type="STRING"/>
            <column name="nID_SubjectAccountType"     type="NUMERIC"/>
            <column name="nID_Server"     type="NUMERIC"/>
            <column name="nID_Subject"    type="NUMERIC"/>
        </loadData>


        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/ServiceType.csv" tableName="ServiceType" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sName" type="STRING"/>
            <column name="sNote" type="STRING"/>
        </loadUpdateData>

        <!-- 5 связанных таблиц ServiceTag, ServiceTagLink, ServiceTagRelation, Service, ServiceData  перезагружаются каждый раз -->
        <loadData encoding="UTF-8" file="data/Service.csv" tableName="Service" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sName" type="STRING"/>
            <column name="nOrder" type="NUMERIC"/>
            <column name="nID_Subcategory" type="NUMERIC"/>
            <column name="sInfo" type="STRING"/>
            <column name="sFAQ" type="STRING"/>
            <column name="sLaw" type="STRING"/>
            <column name="nOpenedLimit" type="NUMERIC"/>
            <column name="sSubjectOperatorName" type="STRING"/>
            <column name="saKeyword" type="STRING"/>
        </loadData>

        <loadUpdateData primaryKey  = "nID"
                        encoding    = "UTF-8"
                        file        = "data/PlaceType.csv"
                        tableName   = "PlaceType"
                        separator   = ";">
            <column name="nID"      type="NUMERIC"/>
            <column name="sName"    type="STRING"/>
            <column name="nOrder"   type="NUMERIC"/>
            <column name="bArea"    type="BOOLEAN"/>
            <column name="bRoot"    type="BOOLEAN"/>
        </loadUpdateData>

        <loadUpdateData primaryKey  = "nID"
                        encoding    = "UTF-8"
                        file        = "data/Place.csv"
                        tableName   = "Place"
                        separator   = ";">
            <column name="nID"           type="NUMERIC"/>
            <column name="sName"         type="STRING"/>
            <column name="nID_PlaceType" type="NUMERIC"/>
            <column name="sID_UA"        type="STRING"/>
            <column name="sNameOriginal" type="STRING"/>
        </loadUpdateData>

        <loadUpdateData primaryKey  = "nID"
                        encoding    = "UTF-8"
                        file        = "data/PlaceTree.csv"
                        tableName   = "PlaceTree"
                        separator   = ";">
            <column name="nID"              type="NUMERIC"/>
            <column name="nID_Place"        type="NUMERIC"/>
            <column name="nID_Place_Root"   type="NUMERIC"/>
            <column name="nID_Place_Area"   type="NUMERIC"/>
            <column name="nID_Place_Parent" type="NUMERIC"/>
        </loadUpdateData>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/Server.csv" tableName="Server" separator=";">
            <column name="nID"          type="NUMERIC"/>
            <column name="sID"          type="STRING"/>
            <column name="sType"        type="STRING"/>
            <column name="sURL_Alpha"   type="STRING"/>
            <column name="sURL_Beta"    type="STRING"/>
            <column name="sURL_Omega"   type="STRING"/>
            <column name="sURL"         type="STRING"/>
        </loadUpdateData>

        <loadData encoding="UTF-8" file="data/ServiceData.csv" tableName="ServiceData" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="nID_Service" type="NUMERIC"/>
            <column name="nID_Place"    type="NUMERIC"/>
            <column name="nID_City" type="NUMERIC"/>
            <column name="nID_Region" type="NUMERIC"/>
            <column name="nID_ServiceType" type="NUMERIC"/>
            <column name="oData" type="STRING"/>
            <column name="sURL" type="STRING"/>
            <column name="bHidden" type="BOOLEAN"/>
            <column name="nID_Subject_Operator" type="NUMERIC"/>
            <column name="bTest" type="BOOLEAN"/>
            <column name="sNote" type="STRING"/>
            <column name="asAuth" type="STRING"/>
            <column name="nID_Server" type="NUMERIC"/>
        </loadData>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/SubjectHumanRole.csv" tableName="SubjectHumanRole" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sName" type="STRING"/>
        </loadUpdateData>

        <loadUpdateData primaryKey="nID_SubjectHumanRole,nID_SubjectHuman" encoding="UTF-8" file="data/SubjectHumanRole_SubjectHuman.csv" tableName="SubjectHumanRole_SubjectHuman" separator=";">
            <column name="nID_SubjectHumanRole" type="NUMERIC"/>
            <column name="nID_SubjectHuman" type="NUMERIC"/>
        </loadUpdateData>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/DocumentOperator_SubjectOrgan.csv" tableName="DocumentOperator_SubjectOrgan" separator=";">
            <column name="nID"              type="NUMERIC"/>
            <column name="sName"            type="STRING"/>
            <column name="nID_SubjectOrgan" type="NUMERIC"/>
            <column name="sHandlerClass"    type="String"/>
        </loadUpdateData>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/ServiceOperator_SubjectOrgan.csv" tableName="ServiceOperator_SubjectOrgan" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sName" type="STRING"/>
            <column name="nID_SubjectOrgan" type="NUMERIC"/>
        </loadUpdateData>

        <loadData encoding="UTF-8" file="data/ServiceTagType.csv" tableName="ServiceTagType" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sName" type="STRING"/>
        </loadData>
        <loadData encoding="UTF-8" file="data/ServiceTag.csv" tableName="ServiceTag" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sID" type="STRING"/>
            <column name="sName_RU" type="STRING"/>
            <column name="sName_UA" type="STRING"/>
            <column name="nID_ServiceTagType" type="NUMERIC"/>
            <column name="nOrder" type="NUMERIC"/>
            <column name="sLinkImage" type="STRING"/>
            <column name="sNote" type="STRING"/>
            <column name="nID_Place" type="NUMERIC"/>
        </loadData>
        <loadData encoding="UTF-8" file="data/ServiceTagLink.csv" tableName="ServiceTagLink" separator=";">
            <column name="nID_Service" type="NUMERIC"/>
            <column name="nID_ServiceTag" type="NUMERIC"/>
        </loadData>
        <loadData encoding="UTF-8" file="data/ServiceTagRelation.csv" tableName="ServiceTagRelation" separator=";">
            <column name="nID_ServiceTag_Parent" type="NUMERIC"/>
            <column name="nID_ServiceTag_Child" type="NUMERIC"/>
        </loadData>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/DocumentContentType.csv" tableName="DocumentContentType" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sName" type="STRING"/>
        </loadUpdateData>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/DocumentType.csv" tableName="DocumentType" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sName" type="STRING"/>
            <column name="bHidden" type="BOOLEAN"/>
        </loadUpdateData>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/Document.csv" tableName="Document" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sName" type="STRING"/>
            <column name="nID_DocumentType" type="NUMERIC"/>
            <column name="sID_Content" type="STRING"/>
            <column name="nID_ContentType" type="NUMERIC"/>
            <column name="sFile" type="STRING"/>
            <column name="sID_Subject_Upload" type="STRING"/>
            <column name="sSubjectName_Upload" type="STRING"/>
            <column name="sDate_Upload" type="STRING"/>
            <column name="sContentType" type="STRING"/>
            <column name="nID_Subject" type="NUMERIC"/>
            <column name="nID_Subject_Upload" type="NUMERIC"/>
            <column name="oSignData" type="STRING"/>
        </loadUpdateData>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/DocumentAccess.csv" tableName="DocumentAccess" separator=";">
            <column name="nID" type="NUMERIC" />
            <column name="nID_Document" type="NUMERIC"/>
            <column name="sDateCreate" type="STRING"/>
            <column name="nMS" type="NUMERIC"/>
            <column name="sFIO" type="STRING" />
            <column name="sTarget" type="STRING" />
            <column name="sTelephone" type="STRING" />
            <column name="sMail" type="STRING" />
            <column name="sSecret" type="STRING"/>
            <column name="sAnswer" type="STRING"/>
            <column name="sDateAnswerExpire" type="STRING"/>
        </loadUpdateData>

        <loadData tableName="SubjectOrganJoinTax" file="data/SubjectOrganJoinTax.csv" encoding="UTF-8" separator=";">
            <column name="nID_SubjectOrganJoin" type="NUMERIC"/>
            <column name="sID_UA" type="STRING"/>
            <column name="sName_UA" type="STRING"/>
        </loadData>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/HistoryEvent.csv" tableName="HistoryEvent" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="nID_Subject" type="NUMERIC"/>
            <column name="nID_HistoryEventType" type="NUMERIC"/>
            <column name="sEventName_Custom" type="STRING"/>
            <column name="sMessage" type="STRING"/>
            <column name="sDate" type="STRING"/>
            <column name="nID_HistoryEvent_Service" type="NUMERIC"/>
            <column name="nID_Document" type="NUMERIC"/>
            <column name="sSubjectInfo" type="STRING"/>
        </loadUpdateData>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/Merchant.csv" tableName="Merchant" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sID" type="STRING"/>
            <column name="sName" type="STRING"/>
            <column name="sPrivateKey" type="STRING"/>
            <column name="sURL_CallbackStatusNew" type="STRING"/>
            <column name="sURL_CallbackPaySuccess" type="STRING"/>
            <column name="nID_SubjectOrgan" type="NUMERIC"/>
            <column name="sID_Currency" type="STRING"/>
        </loadUpdateData>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/Country.csv" tableName="Country" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="nID_UA" type="NUMERIC"/>
            <column name="sID_Two" type="STRING"/>
            <column name="sID_Three" type="STRING"/>
            <column name="sNameShort_UA" type="STRING"/>
            <column name="sNameShort_EN" type="STRING"/>
            <column name="sReference_LocalISO" type="STRING"/>
        </loadUpdateData>

        <loadData tableName="ObjectCustoms" encoding="UTF-8" file="data/ObjectCustoms.csv" separator=";" >
            <column name="sID_UA" type = "STRING" />
            <column name="sName_UA" type = "STRING" />
            <column name="sMeasure_UA" type = "STRING" />
        </loadData>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/Currency.csv" tableName="Currency" separator=";">
            <column name="nID"          type="NUMERIC"/>
            <column name="sID_UA"       type="STRING"/>
            <column name="sName_UA"     type="STRING"/>
            <column name="sName_EN"     type="STRING"/>
            <column name="sID_Currency" type="STRING"/>
        </loadUpdateData>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/ObjectEarthTarget.csv" tableName="ObjectEarthTarget" separator=";">
            <column name="nID"        type="NUMERIC"/>
            <column name="sID_UA"     type="STRING"/>
            <column name="sName_UA"   type="STRING"/>
        </loadUpdateData>

         <loadUpdateData tableName="SubjectActionKVED" primaryKey="nID" encoding="UTF-8" file="data/SubjectActionKVED.csv" separator=";" >
            <column name="nID" type = "NUMERIC" />
            <column name="sID" type = "STRING" />
            <column name="sNote" type = "STRING" />
        </loadUpdateData>

         <loadUpdateData tableName="ObjectPlace_UA" primaryKey="nID" encoding="UTF-8" file="data/ObjectPlace_UA.csv" separator=";" >
            <column name="nID" type = "NUMERIC" />
            <column name="sID" type = "STRING" />
            <column name="sName_UA" type = "STRING" />
            <column name="nID_PlaceType" type = "NUMERIC" />
        </loadUpdateData>


        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/PlaceBranchType.csv" tableName="PlaceBranchType" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sKey" type="STRING"/>
            <column name="sName" type="STRING"/>
        </loadUpdateData>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/PlaceBuildType.csv" tableName="PlaceBuildType" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sKey" type="STRING"/>
            <column name="sName" type="STRING"/>
        </loadUpdateData>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/PlaceBuildPartType.csv" tableName="PlaceBuildPartType" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sKey" type="STRING"/>
            <column name="sName" type="STRING"/>
        </loadUpdateData>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/PlaceBuildPartCellType.csv" tableName="PlaceBuildPartCellType" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sKey" type="STRING"/>
            <column name="sName" type="STRING"/>
        </loadUpdateData>
        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/PlaceBranch.csv" tableName="PlaceBranch" separator=";">
            <column name="nID"     type="NUMERIC"/>
            <column name="sKey"     type="STRING"/>
            <column name="sName"   type="STRING"/>
            <column name="sName_Old"   type="STRING"/>
            <column name="nID_PlaceBranchType"   type="NUMERIC"/>
            <column name="nID_Place"   type="NUMERIC"/>
        </loadUpdateData>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/PlaceBuild.csv" tableName="PlaceBuild" separator=";">
            <column name="nID"     type="NUMERIC"/>
            <column name="sKey"     type="STRING"/>
            <column name="nID_PlaceBuildType"   type="NUMERIC"/>
            <column name="nID_PlaceBranch"   type="NUMERIC"/>
            <column name="sKey_MailIndex"   type="STRING"/>
        </loadUpdateData>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/PlaceBuildPart.csv" tableName="PlaceBuildPart" separator=";">
            <column name="nID"     type="NUMERIC"/>
            <column name="sKey"     type="STRING"/>
            <column name="nID_PlaceBuildPartType"   type="NUMERIC"/>
            <column name="nID_PlaceBuild"   type="NUMERIC"/>
        </loadUpdateData>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/PlaceBuildPartCell.csv" tableName="PlaceBuildPartCell" separator=";">
            <column name="nID"     type="NUMERIC"/>
            <column name="sKey"     type="STRING"/>
            <column name="sNote"     type="STRING"/>
            <column name="nID_PlaceBuildPartCellType"   type="NUMERIC"/>
            <column name="nID_PlaceBuildPart"   type="NUMERIC"/>
        </loadUpdateData>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/PlaceBuildPartCellType.csv" tableName="PlaceBuildPartCellType" separator=";">
            <column name="nID"     type="NUMERIC"/>
            <column name="sKey"     type="STRING"/>
            <column name="sName"     type="STRING"/>
        </loadUpdateData>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/PlaceBuildPartType.csv" tableName="PlaceBuildPartType" separator=";">
            <column name="nID"     type="NUMERIC"/>
            <column name="sKey"     type="STRING"/>
            <column name="sName"     type="STRING"/>
        </loadUpdateData>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/SubjectContactPlacePointType.csv" tableName="SubjectContactPlacePointType" separator=";">
            <column name="nID"     type="NUMERIC"/>
            <column name="sName_EN"     type="STRING"/>
            <column name="sName_RU"     type="STRING"/>
            <column name="sName_UA"     type="STRING"/>
        </loadUpdateData>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/Place.csv" tableName="Place" separator=";">
            <column name="nID"     type="NUMERIC"/>
            <column name="sName"     type="STRING"/>
            <column name="nID_PlaceType"     type="NUMERIC"/>
            <column name="sID_UA"     type="STRING"/>
            <column name="sNameOriginal"     type="STRING"/>
        </loadUpdateData>

        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/SubjectContactPlacePoint.csv" tableName="SubjectContactPlacePoint" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="nID_Subject" type="NUMERIC"/>
            <column name="nID_SubjectContactPlacePointType" type="NUMERIC"/>
            <column name="sDate" type="STRING"/>
            <column name="nID_Place" type="NUMERIC"/>
            <column name="nID_PlaceBranch" type="NUMERIC"/>
            <column name="nID_PlaceBuild" type="NUMERIC"/>
            <column name="nID_PlaceBuildPart" type="NUMERIC"/>
            <column name="nID_PlaceBuildPartCell" type="NUMERIC"/>
        </loadUpdateData>
    </changeSet>

</databaseChangeLog>