<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">


    <changeSet id="issue-1138-addTableActionTaskLink" author="nickveremeichyk">
        <createTable tableName="ActionTaskLink">
            <column name="nID" type="bigint">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="nID_Process" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="sKey" type="varchar(30)">
                <constraints nullable="false"/>
            </column>
            <column name="nID_Subject_Holder" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>


    <changeSet id="issue-1138-addTableActionTaskLinkType" author="nickveremeichyk">
        <createTable tableName="ActionTaskLinkType">
            <column name="nID" type="bigint">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="sID" type="varchar(30)">
                <constraints nullable="false"/>
            </column>
            <column name="sName" type="varchar(30)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    
    <changeSet id="Init action execute tables" author="alex.maryushin" runOnChange="true">
		<sql splitStatements="true" dbms="postgresql">
			DROP TABLE IF EXISTS "ActionExecute" CASCADE;
			DROP TABLE IF EXISTS "ActionExecuteOld" CASCADE;
			DROP TABLE IF EXISTS "ActionExecuteStatus" CASCADE;
		</sql>
		<sql splitStatements="true" dbms="h2">
			DROP TABLE IF EXISTS "ActionExecute" CASCADE;
			DROP TABLE IF EXISTS "ActionExecuteOld" CASCADE;
			DROP TABLE IF EXISTS "ActionExecuteStatus" CASCADE;
		</sql>
		
		<!-- ####################################################################################################### -->        
        <createTable tableName="ActionExecuteStatus">
            <column name="nID" type="bigint">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="sID" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="sName" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
        </createTable>        
		<!-- ####################################################################################################### -->
        <createTable tableName="ActionExecute">
            <column name="nID" type="bigint">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="nID_ActionExecuteStatus" type="int">
               <constraints nullable="false"
                            foreignKeyName="FK_ActionExecute_ActionExecuteStatus"
                            referencedTableName="ActionExecuteStatus" referencedColumnNames="nID" deleteCascade="true"/>
            </column>
            <column name="oDateMake" type="timestamp">
                <constraints nullable="false"/>            
            </column>
            <column name="oDateEdit" type="timestamp">
                <constraints nullable="true"/>            
            </column>            
			<column name="nTry" type="int">
                <constraints nullable="true"/>
            </column>            
            <column name="sObject" type="varchar(100)">
                <constraints nullable="true"/>
            </column>
			<column name="sMethod" type="varchar(100)">
                <constraints nullable="true"/>
            </column>
            <column name="soRequest" type="bytea">
                <constraints nullable="true"/>
            </column>
            <column name="smParam" type="varchar(5000)">
                <constraints nullable="true"/>
            </column>
            <column name="sReturn" type="varchar(5000)">
            </column>                                    
        </createTable>
		<!-- ####################################################################################################### -->
        <createTable tableName="ActionExecuteOld">
            <column name="nID" type="bigint">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="nID_ActionExecuteStatus" type="int">
               <constraints nullable="false"
                            foreignKeyName="FK_ActionExecuteOld_ActionExecuteStatus"
                            referencedTableName="ActionExecuteStatus" referencedColumnNames="nID" deleteCascade="true"/>
            </column>
            <column name="oDateMake" type="timestamp">
                <constraints nullable="false"/>            
            </column>
            <column name="oDateEdit" type="timestamp">
                <constraints nullable="true"/>            
            </column>            
			<column name="nTry" type="int">
                <constraints nullable="true"/>
            </column>            
            <column name="sObject" type="varchar(100)">
                <constraints nullable="true"/>
            </column>
			<column name="sMethod" type="varchar(100)">
                <constraints nullable="true"/>
            </column>
            <column name="soRequest" type="bytea">
                <constraints nullable="true"/>
            </column>
            <column name="smParam" type="varchar(5000)">
                <constraints nullable="true"/>
            </column>
            <column name="sReturn" type="varchar(5000)">
            </column>                                    
        </createTable>						        				        				
	
        <addAutoIncrement tableName="ActionExecute" columnName="nID" startWith="1" columnDataType="bigint"/>
        <addAutoIncrement tableName="ActionExecuteOld" columnName="nID" startWith="1" columnDataType="bigint"/>	   
        
        <loadUpdateData primaryKey="nID" encoding="UTF-8" file="data/ActionExecuteStatus.csv" tableName="ActionExecuteStatus" separator=";">
            <column name="nID" type="NUMERIC"/>
            <column name="sID" type="STRING"/>
            <column name="sName" type="STRING"/>
        </loadUpdateData>
                    
	</changeSet>

    <changeSet id="issue-1173-createTables" author="brunneng">
        <createTable tableName="AccessServiceRight">
            <column name="nID" type="bigint">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="sName" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="sService" type="varchar(500)">
                <constraints nullable="false"/>
            </column>
            <column name="saMethod" type="varchar(100)">
                <constraints nullable="true"/>
            </column>
            <column name="sHandlerBean" type="varchar(200)">
                <constraints nullable="true"/>
            </column>
            <column name="bDeny" type="boolean" defaultValue="false">
                <constraints nullable="false"/>
            </column>
            <column name="nOrder" type="int">
                <constraints nullable="true"/>
            </column>
        </createTable>

        <createTable tableName="AccessServiceRole">
            <column name="nID" type="bigint">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="sName" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
        </createTable>

        <createTable tableName="AccessServiceRoleRight">
            <column name="nID" type="bigint">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="nID_AccessServiceRole" type="bigint" >
                <constraints nullable="false" foreignKeyName="FK_ASRR_AccessServiceRole"
                             referencedTableName="AccessServiceRole" referencedColumnNames="nID" deleteCascade="true"/>/>
            </column>
            <column name="nID_AccessServiceRight" type="bigint">
                <constraints nullable="false" foreignKeyName="FK_ASRR_AccessServiceRight"
                             referencedTableName="AccessServiceRight" referencedColumnNames="nID" deleteCascade="true"/>
            </column>
        </createTable>

        <addUniqueConstraint constraintName="AccessServiceRoleRight_key"
                             tableName="AccessServiceRoleRight"
                             columnNames="nID_AccessServiceRole, nID_AccessServiceRight"/>

        <createTable tableName="AccessServiceRoleRightInclude">
            <column name="nID" type="bigint">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="nID_AccessServiceRole" type="bigint">
                <constraints nullable="false" foreignKeyName="FK_ASRRI_AccessServiceRole"
                             referencedTableName="AccessServiceRole" referencedColumnNames="nID" deleteCascade="true"/>
            </column>
            <column name="nID_AccessServiceRole_Include" type="bigint">
                <constraints nullable="false" foreignKeyName="FK_ASRRI_AccessServiceRole_Include"
                             referencedTableName="AccessServiceRole" referencedColumnNames="nID" deleteCascade="true"/>
            </column>
        </createTable>

        <addUniqueConstraint constraintName="AccessServiceRoleRightInclude_key"
                             tableName="AccessServiceRoleRightInclude"
                             columnNames="nID_AccessServiceRole, nID_AccessServiceRole_Include"/>

        <createTable tableName="AccessServiceLoginRole">
            <column name="nID" type="bigint">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="sLogin" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="nID_AccessServiceRole" type="bigint">
                <constraints nullable="false" foreignKeyName="FK_ASLR_AccessServiceRole"
                             referencedTableName="AccessServiceRole" referencedColumnNames="nID" deleteCascade="true"/>
            </column>
        </createTable>

        <addUniqueConstraint constraintName="AccessServiceLoginRole_key"
                             tableName="AccessServiceLoginRole"
                             columnNames="sLogin, nID_AccessServiceRole"/>

        <dropTable cascadeConstraints="true" tableName="AccessServiceLoginRight"/>

    </changeSet>

    <changeSet id="issue-1173-autoIncrement" author="brunneng" dbms="h2">
        <addAutoIncrement tableName="AccessServiceRight" columnName="nID" startWith="1000" columnDataType="bigint"/>
        <addAutoIncrement tableName="AccessServiceRole" columnName="nID" startWith="1000" columnDataType="bigint"/>
        <addAutoIncrement tableName="AccessServiceLoginRole" columnName="nID" startWith="1000" columnDataType="bigint"/>
        <addAutoIncrement tableName="AccessServiceRoleRight" columnName="nID" startWith="1000" columnDataType="bigint"/>
        <addAutoIncrement tableName="AccessServiceRoleRightInclude" columnName="nID" startWith="1000" columnDataType="bigint"/>
    </changeSet>

    <changeSet id="issue-1243-1" author="brunneng">
        <createTable tableName="FlowSlotTicket_FlowSlot">
            <column name="nID_FlowSlotTicket" type="bigint">
                <constraints nullable="false"
                             foreignKeyName="FK_FlowSlotTicket"
                             referencedTableName="FlowSlotTicket" referencedColumnNames="nID" deleteCascade="true"/>
            </column>
            <column name="nID_FlowSlot" type="bigint">
                <constraints nullable="false"
                             foreignKeyName="FK_FlowSlot"
                             referencedTableName="FlowSlot" referencedColumnNames="nID" deleteCascade="true"/>
            </column>
        </createTable>
        <addUniqueConstraint constraintName="FlowSlotTicket_FlowSlot_U"
                             columnNames="nID_FlowSlotTicket, nID_FlowSlot"
                             tableName="FlowSlotTicket_FlowSlot"/>

        <sql splitStatements="true" dbms="postgresql">
            insert into "FlowSlotTicket_FlowSlot" ("nID_FlowSlotTicket", "nID_FlowSlot") select "nID", "nID_FlowSlot" from "FlowSlotTicket" where "nID_FlowSlot" is not null;
        </sql>

        <dropColumn tableName="FlowSlotTicket" columnName="nID_FlowSlot"/>
    </changeSet>
    
    <changeSet id="issue-1314-addTableActionProcessCount" author="askosyr">
        <createTable tableName="ActionProcessCount">
            <column name="nID" type="bigint">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="sID_BP" type="varchar(30)">
            </column>
            <column name="nID_Service" type="bigint">
            </column>
            <column name="nCountYear" type="bigint">
            </column>
            <column name="nYear" type="bigint">
            </column>
        </createTable>
    </changeSet>
    
    <changeSet id="issue-1385-AutogenerationFlowSlots" author="HavrylinSerhii">
        <addColumn tableName="Flow_ServiceData">
            <column name="nCountAutoGenerate" type="bigint">
                <constraints nullable="true"/>
            </column>
        </addColumn>
    </changeSet>

    <changeSet id="issue-1405-DocumentStep-fixed" author="taaraora" runOnChange="true">
        <validCheckSum>7:02a56943d9b0eb178ebf572db650f66a</validCheckSum>
        <createTable tableName="DocumentStep">
            <column name="nID" type="bigint" autoIncrement="true" startWith="1000" incrementBy="1">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="sKey_Step" type="varchar(30)">
                <constraints nullable="false"/>
            </column>
            <column name="nOrder" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="snID_Process_Activiti" type="varchar(30)">
                <constraints nullable="false"/>
            </column>
        </createTable>

        <addUniqueConstraint constraintName="DocumentStep_nOrder_snID_Process_Activiti_unique"
                             tableName="DocumentStep"
                             columnNames="nOrder, snID_Process_Activiti"/>

        <createTable tableName="DocumentStepSubjectRight">
            <column name="nID" type="bigint" autoIncrement="true" startWith="1000" incrementBy="1">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="nID_DocumentStep" type="bigint">
                <constraints nullable="false" foreignKeyName="FK_DocumentStep_DocumentStepSubjectRight"
                             referencedTableName="DocumentStep" referencedColumnNames="nID" deleteCascade="false"/>
            </column>
            <column name="sKey_GroupPostfix" type="varchar(30)">
                <constraints nullable="false"/>
            </column>
            <column name="sName" type="varchar(30)">
                <constraints nullable="true"/>
            </column>
            <column name="bWrite" type="boolean" defaultValue="false">
                <constraints nullable="false"/>
            </column>
            <column name="sLogin" type="varchar(30)">
                <constraints nullable="true"/>
            </column>
            <column name="sDate" type="timestamp">
                <constraints nullable="true"/>
            </column>
        </createTable>

        <addUniqueConstraint constraintName="DocumentStepSubjectRight_sKey_GroupPostfix_nID_DocumentStep_unique"
                             tableName="DocumentStepSubjectRight"
                             columnNames="sKey_GroupPostfix, nID_DocumentStep"/>

        <createTable tableName="DocumentStepSubjectRightField">
            <column name="nID" type="bigint" autoIncrement="true" startWith="1000">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="nID_DocumentStepSubjectRight" type="bigint">
                <constraints nullable="false" foreignKeyName="FK_DocumentStepSubjectRightField_DocumentStepSubjectRight"
                             referencedTableName="DocumentStepSubjectRight"
                             referencedColumnNames="nID" deleteCascade="false"/>
            </column>
            <column name="sMask_FieldID" type="varchar(30)">
                <constraints nullable="false"/>
            </column>
            <column name="bWrite" type="boolean" defaultValue="false">
                <constraints nullable="false"/>
            </column>
        </createTable>

        <addUniqueConstraint constraintName="DocumentStepSubjectRightField_nID_DocumentStepSubjectRight_sMask_FieldID_unique"
                             tableName="DocumentStepSubjectRightField"
                             columnNames="nID_DocumentStepSubjectRight, sMask_FieldID, bWrite"/>
    </changeSet>
    
    <changeSet id="issue-1404-table_SubjectGroup" author="olga">
        
        <createTable tableName="SubjectGroup">
            <column name="nID" type="bigint">
                <constraints primaryKey="true" nullable="false" unique="true"/>
            </column>
            <column name="sName" type="varchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="sID_Group_Activiti" type="varchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="sChain" type="varchar(55)">
                <constraints nullable="false"/>
            </column>    
        </createTable>
        
        <createTable tableName="SubjectGroupTree">
            <column name="nID" type="bigint">
                <constraints primaryKey="true" nullable="false" unique="true"/>
            </column>
            <column name="nID_SubjectGroup_Parent" type="bigint">
                <constraints nullable               ="false"
                             foreignKeyName         ="FK_SubjectGroupTree_P"
                             referencedTableName    ="SubjectGroup"
                             referencedColumnNames  ="nID"
                             deleteCascade          ="true"/>
            </column>
            <column name="nID_SubjectGroup_Child" type="bigint">
                <constraints nullable               ="false"
                             foreignKeyName         ="FK_SubjectGroupTree_C"
                             referencedTableName    ="SubjectGroup"
                             referencedColumnNames  ="nID"
                             deleteCascade          ="true"/>
            </column>
        </createTable>

        <addUniqueConstraint constraintName="SubjectGroupTree_Unique"
                             columnNames="nID_SubjectGroup_Parent, nID_SubjectGroup_Child"
                             tableName="SubjectGroupTree"/>
        
        <addAutoIncrement tableName="SubjectGroupTree" columnName="nID" startWith="1000" columnDataType="bigint"/>
  
    </changeSet> 
    
    <changeSet id="issue-1404-createTablesForProcessSubject" author="skuhtin" runOnChange="true">
        <createTable tableName="ProcessSubjectStatus">
            <column name="nID" type="bigint" autoIncrement="true" startWith="1000" incrementBy="1">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="sName" type="varchar(100)">
                <constraints nullable="false"/>
            </column>
        </createTable>
        
        <createTable tableName="ProcessSubject">
            <column name="nID" type="bigint" autoIncrement="true" startWith="1000" incrementBy="1">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="snID_Process_Activiti" type="varchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="nID_ProcessSubjectStatus" type="bigint">
                <constraints nullable=               "false"
                             foreignKeyName=         "FK_ProcessSubject_ProcessSubjectStatus"
                             referencedTableName=    "ProcessSubjectStatus"
                             referencedColumnNames=  "nID"
                             deleteCascade=          "true"/>
            </column>
            <column name="nOrder" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="sLogin" type="varchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="sDateEdit" type="timestamp">
                <constraints nullable="false"/>
            </column>
            <column name="sDatePlan" type="timestamp">
                <constraints nullable="true"/>
            </column>
        </createTable>
        
        <addUniqueConstraint constraintName="ProcessSubject_Unique" 
                             tableName="ProcessSubject"
                             columnNames="nOrder, snID_Process_Activiti"/>
        
        <createTable tableName="ProcessSubjectTree">
            <column name="nID" type="bigint" autoIncrement="true" startWith="1000" incrementBy="1">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="nID_ProcessSubject_Child" type="bigint">
                <constraints nullable=               "false"
                             foreignKeyName=         "FK_ProcessSubjectTree_C"
                             referencedTableName=    "ProcessSubject"
                             referencedColumnNames=  "nID"
                             deleteCascade=          "true"/>
            </column>
            <column name="nID_ProcessSubject_Parent" type="bigint">
                <constraints nullable=               "false"
                             foreignKeyName=         "FK_ProcessSubjectTree_P"
                             referencedTableName=    "ProcessSubject"
                             referencedColumnNames=  "nID"
                             deleteCascade=          "true"/>
            </column>
        </createTable>
        
        <addUniqueConstraint constraintName="ProcessSubjectTree_Unique" 
                             tableName="ProcessSubjectTree"
                             columnNames="nID_ProcessSubject_Parent, nID_ProcessSubject_Child"/>
    </changeSet>
    
    <changeSet id="issue-1404-AlterTable_SubjectGroup" author="olga">
        <modifyDataType tableName="SubjectGroup" columnName="sName" newDataType="varchar(225)" />
    </changeSet>
    
    <changeSet id="issue-ProcessSubjectStatus-AddColum" author="Olga">
        <addColumn tableName="ProcessSubjectStatus">
            <column name="sID" type="varchar(100)">
                <constraints nullable="true"/>
            </column>
        </addColumn>
    </changeSet>
    
    <changeSet id="issue-ProcessSubject-AddColum" author="Kovilin Yegor">
        <addColumn tableName="ProcessSubject">
            <column name="sReport" type="varchar(5000)">
                <constraints nullable="true"/>
            </column>
        </addColumn>
    </changeSet>
    
    <changeSet id="issue-1488-Add-Exception-group" author="Kovilin Yegor">
        <addColumn tableName="Flow_ServiceData">
            <column name="sGroup" type="varchar(100)">
                <constraints nullable="true"/>
            </column>
        </addColumn>
    </changeSet>

    <changeSet id="refactoringOrgan" author="olga">
       
        <preConditions onFail="MARK_RAN">
            <not><tableExists tableName="HistoryEvent"/></not>
        </preConditions> 
       
        <createTable tableName="Subject">
            <column name="nID" type="bigint">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="sID" type="varchar(150)">
                <constraints nullable="true"/>
            </column>
            <column name="sLabel" type="varchar(150)">
                <constraints nullable="true"/>
            </column>
            <column name="sLabelShort" type="varchar(50)">
                <constraints nullable="true"/>
            </column>
        </createTable>
        
        <createTable tableName="SubjectHuman">
            <column name="nID" type="bigint">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="nID_Subject" type="bigint">
                <constraints nullable="false"
                             foreignKeyName="FK_Subject_SubjectHuman"
                             referencedTableName="Subject" referencedColumnNames="nID" deleteCascade="true"/>
            </column>
            <column name="sSB" type="varchar(15)">
                <constraints nullable="true"/>
            </column>
            <column name="sINN" type="varchar(15)">
                <constraints nullable="true"/>
            </column>
            <column name="sPassportSeria" type="varchar(2)">
                <constraints nullable="true"/>
            </column>
            <column name="sPassportNumber" type="varchar(10)">
                <constraints nullable="true"/>
            </column>
            <column name="sFamily" type="varchar(20)">
                <constraints nullable="true"/>
            </column>
            <column name="sName" type="varchar(20)">
                <constraints nullable="true"/>
            </column>
            <column name="sSurname" type="varchar(20)">
                <constraints nullable="true"/>
            </column>
        </createTable>
        
        <createTable tableName="SubjectOrgan">
            <column name="nID" type="bigint">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="nID_Subject" type="bigint">
                <constraints nullable="false"
                             foreignKeyName="FK_Subject_SubjectOrgan"
                             referencedTableName="Subject" referencedColumnNames="nID" deleteCascade="true"/>
            </column>
            <column name="sOKPO" type="varchar(16)">
                <constraints nullable="false"/>
            </column>
            <column name="sFormPrivacy" type="varchar(20)">
                <constraints nullable="true"/>
            </column>
            <column name="sName" type="varchar(20)">
                <constraints nullable="true"/>
            </column>
            <column name="sNameFull" type="varchar(40)">
                <constraints nullable="true"/>
            </column>
        </createTable>

        <createTable tableName="SubjectOrganType">
            <column name="nID" type="bigint">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="sName" type="varchar(200)">
                <constraints nullable="false"/>
            </column>
        </createTable>

        <createTable tableName="SubjectMessage">
            <column name="nID" type="bigint">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="sHead" type="varchar(200)">
                <constraints nullable="false"/>
            </column>
            <column name="sBody" type="varchar">
                <constraints nullable="false"/>
            </column>
            <column name="sDate" type="timestamp">
                <constraints nullable="false"/>
            </column>
            <column name="nID_Subject" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="sMail" type="varchar(100)"/>
            <column name="sContacts" type="varchar(200)"/>
            <column name="sData" type="varchar"/>
            <column name="sBody_Indirectly" type="varchar">
                <constraints nullable="true"/>
            </column>
        </createTable>
        
         <createTable tableName="SubjectOrganJoin">
            <column name="nID" type="bigint">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="nID_SubjectOrgan" type="bigint">
                <constraints nullable               ="false"
                             foreignKeyName         ="FK_SubjectOrganJoin_SubjectOrgan"
                             referencedTableName    ="SubjectOrgan"
                             referencedColumnNames  ="nID"
                             deleteCascade          ="true"/>
            </column>
            <column name="sNameUa" type="varchar(200)">
                <constraints nullable="false"/>
            </column>
            <column name="sNameRu" type="varchar(200)">
                <constraints nullable="false"/>
            </column>
            <column name="sID_Privat" type="varchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="sID_Public" type="varchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="sGeoLongitude" type="varchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="sGeoLatitude" type="varchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="nID_Region" type="bigint">
                <constraints nullable               ="true"
                             deleteCascade          ="true"/>
            </column>
            <column name="nID_City" type="bigint">
                <constraints nullable               ="true"
                             deleteCascade          ="true"/>
            </column>
        </createTable>
        
        <addColumn tableName="SubjectOrganJoin">
            <column name="sID_UA" type="varchar(30)">
                <constraints nullable="true"/>
            </column>
        </addColumn>
        
         <createTable tableName="SubjectMessageType">
            <column name="nID" type="int">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="sName" type="varchar(100)">
                <constraints nullable="false" unique="true"/>
            </column>
            <column name="sDescription" type="varchar(500)">
                <constraints nullable="false"/>
            </column>
        </createTable>

        <!--insert tableName="SubjectMessageType">
            <column name="nID" value="0"/>
            <column name="sName" value="dummy"/>
            <column name="sDescription" value="dummy"/>
        </insert-->

        <addColumn tableName="SubjectMessage">
            <column name="nID_SubjectMessageType" type="int" defaultValue="0">
                <constraints nullable="false"
                             foreignKeyName="FK_SubjectMessage_SubjectMessageType"
                             referencedTableName="SubjectMessageType" referencedColumnNames="nID" deleteCascade="true"/>
            </column>
        </addColumn>
        
        <addColumn tableName="SubjectMessage">
            <column name="nID_HistoryEvent_Service" type="bigint">
                <constraints nullable="true"/>
            </column>
        </addColumn>
        
         <createTable tableName="SubjectOrganJoinAttribute">
            <column name="nID" type="bigint">
                <constraints primaryKey="true" nullable="false" unique="true"/>
            </column>
            <column name="nID_SubjectOrganJoin" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="sName" type="varchar(15)">
                <constraints nullable="false"/>
            </column>
            <column name="sValue" type="varchar(150)">
                <constraints nullable="false"/>
            </column>
        </createTable>

        <addUniqueConstraint columnNames="nID_SubjectOrganJoin, sName"
                             constraintName="nID_SubjectOrganJoin_sName"
                             tableName="SubjectOrganJoinAttribute"/>
        
        <modifyDataType columnName="sValue" newDataType="varchar(500)" tableName="SubjectOrganJoinAttribute"/>
        
        <createTable tableName="SubjectContactType">
            <column name="nID" type="bigint">
                <constraints primaryKey="true" nullable="false" unique="true"/>
            </column>
            <column name="sName_EN" type="varchar(20)">
                <constraints nullable="false"/>
            </column>
            <column name="sName_UA" type="varchar(20)">
                <constraints nullable="false"/>
            </column>
            <column name="sName_RU" type="varchar(20)">
                <constraints nullable="false"/>
            </column>
        </createTable>

        <createTable tableName="SubjectContact">
            <column name="nID" type="bigint">
                <constraints primaryKey="true" nullable="false" unique="true"/>
            </column>
            <column name="nID_Subject" type="bigint">
                <constraints nullable="false"
                             referencedTableName="Subject" referencedColumnNames="nID"
                             foreignKeyName="FK_SubjectContact_Subject"/>
            </column>
            <column name="nID_SubjectContactType" type="bigint">
                <constraints nullable="false"
                             referencedTableName="SubjectContactType" referencedColumnNames="nID"
                             foreignKeyName="FK_SubjectContact_SubjectContactType"/>
            </column>
            <column name="sValue" type="varchar(140)">
                <constraints nullable="false"/>
            </column>
        </createTable>

        <addColumn tableName="SubjectHuman">
            <column name="nID_SubjectHumanIdType" type="bigint" defaultValue="0">
                <constraints nullable="false"/>
            </column>
            <column name="nID_SubjectContact_DefaultEmail" type="bigint">
                <constraints nullable="true" referencedTableName="SubjectContact" referencedColumnNames="nID"
                             foreignKeyName="FK_SubjectContact_SubjectContact_Email"/>
            </column>
            <column name="nID_SubjectContact_DefaultPhone" type="bigint">
                <constraints nullable="true" referencedTableName="SubjectContact" referencedColumnNames="nID"
                             foreignKeyName="FK_SubjectContact_SubjectContact_Phone"/>
            </column>
        </addColumn>
         
         <modifyDataType columnName="sName" newDataType="varchar(40)" tableName="SubjectOrganJoinAttribute"/> 
         
         <addColumn tableName="SubjectContact">
            <column name="sDate" type="timestamp">
                <constraints nullable="true" /> 
            </column>
        </addColumn>
        
        <addColumn tableName="SubjectMessage">
            <column name="nID_SubjectContact_Mail" type="bigint">
                <constraints nullable="true" referencedTableName="SubjectContact" referencedColumnNames="nID"
                            foreignKeyName="FK_SubjectContact_Mail_SubjectContact_nID" />
            </column>
        </addColumn>
        
        <modifyDataType columnName="sValue" newDataType="varchar(2500)" tableName="SubjectOrganJoinAttribute"/>
        
        <createTable tableName="SubjectAccountType">
            <column name="nID" type="bigint">
                <constraints primaryKey="true" nullable="false" unique="true"/>
            </column>
            <column name="sID" type="varchar(20)">
                <constraints nullable="false" unique="true"/>
            </column>
            <column name="sNote" type="varchar(300)" defaultValue="">
            </column>
        </createTable>

        <createTable tableName="SubjectAccount">
            <column name="nID" type="bigint">
                <constraints primaryKey="true" nullable="false" unique="true"/>
            </column>
            <column name="sLogin" type="varchar(20)">
                <constraints nullable="false" />
            </column>
            <column name="sNote" type="varchar(300)" defaultValue="">                
            </column>
            <column name="nID_SubjectAccountType" type="bigint">
                <constraints nullable="false" referencedTableName="SubjectAccountType" referencedColumnNames="nID"
                             foreignKeyName="FK_SubjectAccount_SubjectAccountType"
                             />
            </column>
            <column name="nID_Server" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="nID_Subject" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
        
        <addUniqueConstraint columnNames="sLogin, nID_SubjectAccountType, nID_Server, nID_Subject" tableName="SubjectAccount"/>
                
        <addForeignKeyConstraint constraintName="FK_AccountContact_Subject" referencedTableName="Subject" baseColumnNames="nID_Subject" baseTableName="SubjectAccount" referencedColumnNames="nID"/>
        
        <modifyDataType columnName="sLogin" newDataType="varchar(80)" tableName="SubjectAccount"/>
        
        <addColumn tableName="SubjectMessage">
            <column name="sSubjectInfo" type="varchar(255)">
            </column>
        </addColumn>
        
        <addForeignKeyConstraint baseTableName="SubjectMessage" baseColumnNames="nID_Subject" constraintName="FK_Subject_SubjectMessage" referencedTableName="Subject"
                                 referencedColumnNames="nID"/>
        
        <addColumn tableName="SubjectHuman">
            <column name="nID_Sex" type="bigint">              
            </column>
        </addColumn>
        
        <dropColumn tableName="SubjectOrganJoinAttribute" columnName="nID"/>
        
        <addColumn tableName="SubjectMessage">
            <column name="sID_DataLink" type="varchar(255)">
            </column>
        </addColumn>
        
        <createTable tableName="HistoryEvent_Service">
            <column name="nID" type="bigint">
                <constraints primaryKey="true" nullable="false" unique="true"/>
            </column>
            <column name="nID_Process" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="nID_Subject" type="bigint">
                <constraints nullable="true"/>
            </column>
            <column name="nID_Service" type="bigint">
                <constraints nullable="true"/>
            </column>
            <column name="nRate" type="int">
                <constraints nullable="true"/>
            </column>
            <column name="nTimeHours" type="int">
                <constraints nullable="true"/>
            </column>
            <column name="nID_Server" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="nID_Region" type="bigint">
                <constraints nullable="true"/>
            </column>
            <column name="nID_Proccess_Feedback" type="bigint">
                <constraints nullable="true"/>
            </column>
            <column name="nID_Proccess_Escalation" type="bigint">
                <constraints nullable="true"/>
            </column>
            <column name="nTimeMinutes" type="int">
                <constraints nullable="true"/>
            </column>
            <column name="nID_StatusType" type="bigint">
                <constraints nullable="true"/>
            </column>
            <column name="nID_ServiceData" type="bigint">
                <constraints nullable="true"/>
            </column>
            <column name="sUserTaskName" type="varchar">
                <constraints nullable="false"/>
            </column>
            <column name="soData" type="varchar">
                <constraints nullable="true"/>
            </column>
            <column name="sToken" type="varchar">
                <constraints nullable="true"/>
            </column>
            <column name="sHead" type="varchar">
                <constraints nullable="true"/>
            </column>
            <column name="sBody" type="varchar">
                <constraints nullable="true"/>
            </column>
            <column name="sID_Order" type="varchar">
                <constraints nullable="true"/>
            </column>
            <column name="sID_Rate_Indirectly" type="varchar">
                <constraints nullable="true"/>
            </column>
            <column name="sDateCreate" type="timestamp">
                <constraints nullable="true"/>
            </column>
            <column name="sDateClose" type="timestamp">
                <constraints nullable="true"/>
            </column>
            <column name="sDate" type="timestamp">
                <constraints nullable="true"/>
            </column>
            <column name="sID" type="varchar(30)">
                <constraints nullable="true"/>
            </column>
            <column name="sID_UA" type="varchar(100)">
                <constraints nullable="true"/>
            </column>
           
        </createTable>
        
        <!-- ####################################################################################################### -->
        <createTable tableName="Region">
            <column name="nID" type="int">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="sName" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="sID_UA" type="varchar(30)">
                <constraints nullable="true"/>
            </column>
        </createTable>

        <!-- ####################################################################################################### -->
        <createTable tableName="City">
            <column name="nID" type="int">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="sName" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="nID_Region" type="int">
                <constraints nullable="false"
                             foreignKeyName="FK_Region_City"
                             referencedTableName="Region" referencedColumnNames="nID" deleteCascade="true"/>
            </column>
            <column name="sID_UA" type="varchar(30)">
                <constraints nullable="true"/>
            </column>
        </createTable>

        <!-- ####################################################################################################### -->
        <createTable tableName="Category">
            <column name="nID" type="int">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="sID" type="varchar(200)">
                <constraints nullable="false"/>
            </column>
            <column name="sName" type="varchar(200)">
                <constraints nullable="false"/>
            </column>
            <column name="nOrder" type="int">
                <constraints nullable="false"/>
            </column>
        </createTable>

        <!-- ####################################################################################################### -->
        <createTable tableName="Subcategory">
            <column name="nID" type="int">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="sID" type="varchar(200)">
                <constraints nullable="false"/>
            </column>
            <column name="sName" type="varchar(200)">
                <constraints nullable="false"/>
            </column>
            <column name="nID_Category" type="int">
                <constraints nullable="false"
                             foreignKeyName="FK_Subcategory_Category"
                             referencedTableName="Category" referencedColumnNames="nID" deleteCascade="true"/>
            </column>
            <column name="nOrder" type="int">
                <constraints nullable="false"/>
            </column>
        </createTable>

        <!-- ####################################################################################################### -->
        <createTable tableName="ServiceType">
            <column name="nID" type="int">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="sName" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="sNote" type="varchar(500)">
                <constraints nullable="false"/>
            </column>
        </createTable>
        
        <createTable tableName="PlaceType">
            <column name="nID" type="bigint">
                <constraints primaryKey="true"/>
            </column>
            <column name="sName"  type="varchar(30)"/>
            <column name="nOrder" type="number"/>
            <column name="bArea"  type="boolean"/>
            <column name="bRoot"  type="boolean"/>
        </createTable>
        <addAutoIncrement tableName     = "PlaceType"
                          columnName    = "nID"
                          startWith     = "100"
                          columnDataType= "bigint"/>
        <!-- -->
        <createTable tableName="Place">
            <column name="nID" type="bigint">
                <constraints primaryKey="true"/>
            </column>
            <column name="sName" type="varchar(200)"/>
            <column name="nID_PlaceType" type="bigint">
                <constraints nullable               = "false"
                             foreignKeyName         = "FK_Place_PlaceType"
                             referencedTableName    = "PlaceType"
                             referencedColumnNames  = "nID"
                             deleteCascade          = "true"/>
            </column>
            <column name="sID_UA"        type="varchar(100)"/>
            <column name="sNameOriginal" type="varchar(200)"/>
        </createTable>
        <addAutoIncrement tableName     = "Place"
                          columnName    = "nID"
                          startWith     = "100"
                          columnDataType= "bigint"/>
        <!-- -->
        <createTable tableName="PlaceTree">
            <column name="nID" type="bigint">
                <constraints primaryKey="true"/>
            </column>
            <column name="nID_Place" type="bigint">
                <constraints nullable               = "false"
                             foreignKeyName         = "FK_PlaceTree_Place"
                             referencedTableName    = "Place"
                             referencedColumnNames  = "nID"
                             deleteCascade          = "true"/>
            </column>
            <column name="nID_Place_Root"   type="number"/>
            <column name="nID_Place_Area"   type="number"/>
            <column name="nID_Place_Parent" type="number"/>
        </createTable>
        <addAutoIncrement tableName     = "PlaceTree"
                          columnName    = "nID"
                          startWith     = "100"
                          columnDataType= "bigint"/>

        <!-- ####################################################################################################### -->
        <createTable tableName="Service">
            <column name="nID" type="int">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="sName" type="varchar(1000)">
                <constraints nullable="false"/>
            </column>
            <column name="nOrder" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="nID_Subcategory" type="int">
                <constraints nullable="false"
                             foreignKeyName="FK_Service_Subcategory"
                             referencedTableName="Subcategory" referencedColumnNames="nID" deleteCascade="true"/>
            </column>
            <column name="sInfo" type="clob">
                <constraints nullable="false"/>
            </column>
            <column name="sFAQ" type="clob">
                <constraints nullable="false"/>
            </column>
            <column name="sLaw" type="clob">
                <constraints nullable="false"/>
            </column>
            <column name="sSubjectOperatorName" type="varchar(500)">
                <constraints nullable="false"/>
            </column>
            <column name="nOpenedLimit" type="int">
                <constraints nullable="true" unique="false"/>
            </column>
            
        </createTable>
        
        <!-- ####################################################################################################### -->
        <createTable tableName="ServiceData">
            <column name="nID" type="int">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="nID_Service" type="int">
                <constraints nullable="false"
                             foreignKeyName="FK_ServiceData_Service"
                             referencedTableName="Service" referencedColumnNames="nID" deleteCascade="true"/>
            </column>
            <column name="nID_City" type="int">
                <constraints foreignKeyName="FK_ServiceData_City"
                             referencedTableName="City" referencedColumnNames="nID" deleteCascade="true"/>
            </column>
            <column name="nID_Region" type="int">
                <constraints foreignKeyName="FK_ServiceData_Region"
                             referencedTableName="Region" referencedColumnNames="nID" deleteCascade="true"/>
            </column>
            <column name="nID_ServiceType" type="int">
                <constraints nullable="false"
                             foreignKeyName="FK_ServiceData_ServiceType"
                             referencedTableName="ServiceType" referencedColumnNames="nID" deleteCascade="true"/>
            </column>
            <column name="oData" type="varchar(500)">
                <constraints nullable="false"/>
            </column>
            <column name="sURL" type="varchar(300)">
                <constraints nullable="false"/>
            </column>
            <column name="bHidden" type="boolean">
                <constraints nullable="false"/>
            </column>
            <column name="nID_Subject_Operator" type="bigint">
                <constraints nullable="true" foreignKeyName="FK_ServiceData_SubjectOrgan"
                             referencedTableName="SubjectOrgan" referencedColumnNames="nID" deleteCascade="true"/>
            </column>
            <column name="bTest" type="boolean">
                <constraints nullable="false"/>
            </column>
            <column name="sNote" type="varchar(1000)">
                <constraints nullable="false"/>
            </column>
            <column name="asAuth" type="varchar(100)">
                <constraints nullable = "false"/>
            </column>
            <column name="nID_Place" type="bigint">
                <constraints foreignKeyName         = "FK_ServiceData_Place"
                             referencedTableName    = "Place"
                             referencedColumnNames  = "nID"
                             deleteCascade          = "true" />
            </column>
            <column name="nID_Server" type="bigint">
                <constraints nullable="true"/>
            </column>
            
        </createTable>
        
        
        

        


        <!--dropForeignKeyConstraint baseTableName="SubjectHuman" constraintName="FK_SubjectContact_SubjectContact_Email"/>
        <addForeignKeyConstraint constraintName="FK_SubjectContact_SubjectContact_Email" baseTableName="SubjectHuman" baseColumnNames="nID_SubjectContact_DefaultEmail"
                                 referencedTableName="SubjectContact" referencedColumnNames="nID"
                                 deferrable="true" deleteCascade="false"/>

        <dropForeignKeyConstraint baseTableName="SubjectHuman" constraintName="FK_SubjectContact_SubjectContact_Phone"/>
        <addForeignKeyConstraint constraintName="FK_SubjectContact_SubjectContact_Phone" baseTableName="SubjectHuman" baseColumnNames="nID_SubjectContact_DefaultPhone"
                                 referencedTableName="SubjectContact" referencedColumnNames="nID"
                                 deferrable="true" deleteCascade="false"/>

        <dropForeignKeyConstraint baseTableName="SubjectMessage" constraintName="FK_Subject_SubjectMessage"/>
        <addForeignKeyConstraint constraintName="FK_Subject_SubjectMessage" baseTableName="SubjectMessage" baseColumnNames="nID_Subject"
                                 referencedTableName="Subject" referencedColumnNames="nID"
                                 deferrable="true" deleteCascade="false"/>
        
        <dropForeignKeyConstraint baseTableName="SubjectMessage" constraintName="FK_SubjectContact_Mail_SubjectContact_nID"/>
        <addForeignKeyConstraint constraintName="FK_SubjectContact_Mail_SubjectContact_nID" baseTableName="SubjectMessage" baseColumnNames="nID_SubjectContact_Mail"
                                 referencedTableName="SubjectContact" referencedColumnNames="nID"
                                 deferrable="true" deleteCascade="false" />

        <dropForeignKeyConstraint baseTableName="SubjectContact" constraintName="FK_SubjectContact_Subject"/>
        <addForeignKeyConstraint constraintName="FK_SubjectContact_Subject" baseTableName="SubjectContact" baseColumnNames="nID_Subject"
                                 referencedTableName="Subject" referencedColumnNames="nID"
                                 deferrable="true" deleteCascade="false" />

        <dropForeignKeyConstraint baseTableName="SubjectAccount" constraintName="FK_AccountContact_Subject"/>
        <addForeignKeyConstraint constraintName="FK_AccountContact_Subject" baseTableName="SubjectAccount" baseColumnNames="nID_Subject"
                                 referencedTableName="Subject" referencedColumnNames="nID"
                                 deferrable="true" deleteCascade="false"/-->
        
        
        
    </changeSet>

    <changeSet id="Add autoIncrement H2" author="olga" dbms="h2">
        <!--preConditions onFail="MARK_RAN"-->
        <preConditions onFail="MARK_RAN">
            <not><tableExists tableName="HistoryEvent"/></not>
        </preConditions>
        <addAutoIncrement tableName="SubjectContact" columnName="nID" startWith="1000" columnDataType="bigint"/>
        <addAutoIncrement tableName="Subject" columnName="nID" startWith="1000" columnDataType="bigint"/>
        <addAutoIncrement tableName="SubjectHuman" columnName="nID" startWith="1000" columnDataType="bigint"/>
        <addAutoIncrement tableName="SubjectOrgan" columnName="nID" startWith="1000" columnDataType="bigint"/>
        <addAutoIncrement tableName="SubjectMessage" columnName="nID" startWith="1000" columnDataType="bigint"/>
        <addAutoIncrement tableName="SubjectOrganJoin" columnName="nID" startWith="1000" columnDataType="bigint"/>
        <addAutoIncrement tableName="SubjectMessageType" columnName="nID" startWith="1000" columnDataType="bigint"/>
        <addAutoIncrement tableName="SubjectAccount" columnName="nID" startWith="100" columnDataType="bigint"/>
        <addAutoIncrement tableName="Region" columnName="nID" startWith="1000" columnDataType="bigint"/>
        <addAutoIncrement tableName="City" columnName="nID" startWith="1000" columnDataType="bigint"/>
        <addAutoIncrement tableName="Category" columnName="nID" startWith="1000" columnDataType="bigint"/>
        <addAutoIncrement tableName="Subcategory" columnName="nID" startWith="1000" columnDataType="bigint"/>
        <addAutoIncrement tableName="ServiceType" columnName="nID" startWith="1000" columnDataType="bigint"/>
        <addAutoIncrement tableName="Service" columnName="nID" startWith="1000" columnDataType="bigint"/>
        <addAutoIncrement tableName="ServiceData" columnName="nID" startWith="1000" columnDataType="bigint"/>
        
        
    </changeSet>
    
    <changeSet id="subjectGroupAlter" author="olga">
        <addColumn tableName="SubjectGroup">
            <column name="nID_Subject" type="bigint">
                <constraints nullable               = "true"
                             foreignKeyName         = "FK_SubjectGroup_Subject"
                             referencedTableName    = "Subject"
                             referencedColumnNames  = "nID"
                             deleteCascade          = "true" />
            </column>
        </addColumn>
    </changeSet>
    
    <changeSet id="increase-name-length" author="Kovylin Yegor">
        <modifyDataType tableName="SubjectHuman" columnName="sName" newDataType="varchar(100)" />
    </changeSet>
    
    <changeSet id="increase-name-length_for_SubjectOrgan" author="Kovylin Yegor">
        <modifyDataType tableName="SubjectOrgan" columnName="sName" newDataType="varchar(100)" />
    </changeSet>
    
    <changeSet id="increase-name-length_SubjectOrgan" author="Kovylin Yegor">
        <modifyDataType tableName="SubjectOrgan" columnName="sNameFull" newDataType="varchar(100)" />
    </changeSet>
    
    <changeSet id="increase-name-length_SubjectOrgan_more" author="Kovylin Yegor">
        <modifyDataType tableName="SubjectOrgan" columnName="sNameFull" newDataType="varchar(200)" />
    </changeSet>
    
    <changeSet id="increase-name-length_for_SubjectOrgan_new" author="Kovylin Yegor">
        <modifyDataType tableName="SubjectOrgan" columnName="sName" newDataType="varchar(200)" />
    </changeSet>
    
    <changeSet id="issue-1462_role" author="HavrylinSerhii">
        <createTable tableName="SubjectHumanRole">
            <column name="nID" type="bigint">
                <constraints primaryKey="true" nullable="false" unique="true"/>
            </column>
            <column name="sName" type="varchar(200)">
            </column>
        </createTable>
    </changeSet>
    
    <changeSet id="issue-1462_roleRelation" author="HavrylinSerhii" failOnError="false">
        <createTable tableName="SubjectHumanRole_SubjectHuman">
            <column name="nID_SubjectHumanRole" type="bigint">
                <constraints nullable="false"
                             foreignKeyName="FK_SubjectHumanRole"
                             referencedTableName="SubjectHumanRole" referencedColumnNames="nID" deleteCascade="true"/>
            </column>
            <column name="nID_SubjectHuman" type="bigint">
                <constraints nullable="false"
                             foreignKeyName="FK_SubjectHuman"
                             referencedTableName="SubjectHuman" referencedColumnNames="nID" deleteCascade="true"/>
            </column>
        </createTable>
    </changeSet>
    
    <changeSet id="issue-1462_roleConstrein" author="HavrylinSerhii" failOnError="false">
        <addUniqueConstraint constraintName="SubjectHumanRole_SubjectHuman"
                             columnNames="nID_SubjectHumanRole, nID_SubjectHuman"
                             tableName="SubjectHumanRole_SubjectHuman"/>
    </changeSet>
    
</databaseChangeLog>
