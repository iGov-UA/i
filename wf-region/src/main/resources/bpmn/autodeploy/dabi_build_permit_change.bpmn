<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://www.activiti.org/test">
  <process id="dabi_build_permit_change" name="Повідомлення про зміну даних у Дозволі на виконання будівельних робіт" isExecutable="true">
    <startEvent id="startevent_step1" name="1. Реєстрація вхідного документу">
      <extensionElements>
        <activiti:formProperty id="sID_NumberASKOD" name="Реєстраційний номер вхідного документу" type="string" required="true"></activiti:formProperty>
        <activiti:formProperty id="sID_DateASKOD" name="Дата реємтрації вхідного документу" type="string" required="true"></activiti:formProperty>
        <activiti:formProperty id="asApplicantType" name="Замовник" type="enum" required="true">
          <activiti:value id="sEnumAppPerson" name="фізична особа"></activiti:value>
          <activiti:value id="sEnumAppLegal" name="юридична особа"></activiti:value>
        </activiti:formProperty>
        <activiti:formProperty id="sPersonLastName" name="Прізвище заявника" type="string"></activiti:formProperty>
        <activiti:formProperty id="sPersonFirstName" name="Ім'я заявника" type="string"></activiti:formProperty>
        <activiti:formProperty id="sPersonMiddleName" name="По-батькові заявника" type="string"></activiti:formProperty>
        <activiti:formProperty id="sPersonAddress" name="Місце проживання" type="string"></activiti:formProperty>
        <activiti:formProperty id="sPersonPassport" name="Паспортні дані" type="string"></activiti:formProperty>
        <activiti:formProperty id="sPersonINN" name="Номер облікової картки платника податків;не зазначається фізичними особами, які через свої релігійні переконання відмовляються від прийняття реєстраційного номера облікової картки платника податків та повідомили про це відповідному органу державної податкової служби і мають відмітку у паспорті" type="string"></activiti:formProperty>
        <activiti:formProperty id="sLegalForm" name="Організаційно-правова форма юридичної особи" type="string" default="Потрібна інтеграція з обліковою системою"></activiti:formProperty>
        <activiti:formProperty id="sLegalName" name="Найменування юридичної особи" type="string"></activiti:formProperty>
        <activiti:formProperty id="sLegalAddress" name="Місцезнаходження" type="string"></activiti:formProperty>
        <activiti:formProperty id="sLegalEDRPOU" name="Код платника податків згідно з ЄДРПОУ або податковий номер" type="string"></activiti:formProperty>
        <activiti:formProperty id="phone" name="Номер телефону" type="string" default="+380" required="true"></activiti:formProperty>
        <activiti:formProperty id="email" name="Електронна адреса" type="string"></activiti:formProperty>
        <activiti:formProperty id="sObjectName" name="Найменування об’єкта будівництва" type="string" required="true"></activiti:formProperty>
        <activiti:formProperty id="sObjectAddress" name="Поштова/будівельна адреса об’єкта будівництва" type="string" required="true"></activiti:formProperty>
        
        <activiti:formProperty id="saChangeReasons" name="Причини зміни даних" type="enum" required="true">
          <activiti:value id="sEnumReason1" name="Право на будівництво передано іншому замовникові"></activiti:value>
          <activiti:value id="sEnumReason2" name="Змінено генерального підрядника чи підрядника"></activiti:value>
          <activiti:value id="sEnumReason3" name="Змінено осіб, відповідальних за проведення авторського нагляду"></activiti:value>
          <activiti:value id="sEnumReason4" name="Змінено осіб, відповідальні за проведення технічного нагляду"></activiti:value>
          <activiti:value id="sEnumReason5" name="Змінено відповідальні виконавців робіт"></activiti:value>
        </activiti:formProperty>
        <activiti:formProperty id="sDocEmpComment" name="Коментар" type="textArea"></activiti:formProperty>
        <activiti:formProperty id="nBuildPermitChange" name="Заява про зміну даних у Дозволі на виконання будівельних робіт" type="file" default=" " ></activiti:formProperty>
        <activiti:formProperty id="marker1_visible" name="Show-hide" type="markers" default="${markerService.loadFromFile('KMDA/dabi_build_permit_change_vis.json')}"></activiti:formProperty>
        <activiti:formProperty id="marker1_required" name="Required" type="markers" default="${markerService.loadFromFile('KMDA/dabi_build_permit_change_req.json')}"></activiti:formProperty>
        <activiti:formProperty id="marker1_valid" name="Validation" type="markers" default="${markerService.loadFromFile('KMDA/dabi_build_permit_change_valid.json')}"></activiti:formProperty>
      </extensionElements>
    </startEvent>
    <sequenceFlow id="flow1" sourceRef="startevent_step1" targetRef="usertask_Upload_file"></sequenceFlow>
    <parallelGateway id="parallelgateway1" name="Exclusive Gateway"></parallelGateway>
    <sequenceFlow id="flow17" sourceRef="parallelgateway1" targetRef="usertask_step2"></sequenceFlow>
    <userTask id="usertask_step2" name="2. Ознайомлення директором ДАБК" activiti:candidateGroups="kyiv_dabi_boss">
      <extensionElements>
        <activiti:formProperty id="sID_NumberASKOD" name="Реєстраційний номер вхідного документу" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sID_DateASKOD" name="Дата реєстрації вхідного документу" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="asApplicantType" name="Замовник" type="enum" writable="false">
          <activiti:value id="sEnumAppPerson" name="фізична особа"></activiti:value>
          <activiti:value id="sEnumAppLegal" name="юридична особа"></activiti:value>
        </activiti:formProperty>
        <activiti:formProperty id="sPersonLastName" name="Прізвище заявника" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPersonFirstName" name="Ім'я заявника" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPersonMiddleName" name="По-батькові заявника" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPersonAddress" name="Місце проживання" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPersonPassport" name="Паспортні дані" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPersonINN" name="Номер облікової картки платника податків;не зазначається фізичними особами, які через свої релігійні переконання відмовляються від прийняття реєстраційного номера облікової картки платника податків та повідомили про це відповідному органу державної податкової служби і мають відмітку у паспорті" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sLegalForm" name="Організаційно-правова форма юридичної особи" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sLegalName" name="Найменування юридичної особи" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sLegalAddress" name="Місцезнаходження" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sLegalEDRPOU" name="Код платника податків згідно з ЄДРПОУ або податковий номер" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="phone" name="Номер телефону" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="email" name="Електронна адреса" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sObjectName" name="Найменування об’єкта будівництва" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sObjectAddress" name="Поштова/будівельна адреса об’єкта будівництва" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="saChangeReasons" name="Причини зміни даних" type="enum" writable="false">
          <activiti:value id="sEnumReason1" name="Право на будівництво передано іншому замовникові"></activiti:value>
          <activiti:value id="sEnumReason2" name="Змінено генерального підрядника чи підрядника"></activiti:value>
          <activiti:value id="sEnumReason3" name="Змінено осіб, відповідальних за проведення авторського нагляду"></activiti:value>
          <activiti:value id="sEnumReason4" name="Змінено осіб, відповідальні за проведення технічного нагляду"></activiti:value>
          <activiti:value id="sEnumReason5" name="Змінено відповідальні виконавців робіт"></activiti:value>
        </activiti:formProperty>
        <activiti:formProperty id="sDocEmpComment" name="Коментар" type="textArea" writable="false"></activiti:formProperty>
        <activiti:formProperty id="marker2_visible" name="Show-hide" type="markers" default="${markerService.loadFromFile('KMDA/dabi_build_permit_change_vis.json')}"></activiti:formProperty>
        <activiti:taskListener event="create" delegateExpression="${fileTaskInheritance}">
          <activiti:field name="aFieldInheritedAttachmentID">
            <activiti:expression><![CDATA[${nBuildPermitChange}]]></activiti:expression>
          </activiti:field>
        </activiti:taskListener>
      </extensionElements>
    </userTask>
    <sequenceFlow id="flow18" sourceRef="parallelgateway1" targetRef="usertask_step3"></sequenceFlow>
    <userTask id="usertask_step3" name="3. Ознайомлення заступником директора ДАБК" activiti:candidateGroups="kyiv_dabi_deputy_boss">
      <extensionElements>
        <activiti:formProperty id="sID_NumberASKOD" name="Реєстраційний номер вхідного документу" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sID_DateASKOD" name="Дата реєстрації вхідного документу" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="asApplicantType" name="Замовник" type="enum" writable="false">
          <activiti:value id="sEnumAppPerson" name="фізична особа"></activiti:value>
          <activiti:value id="sEnumAppLegal" name="юридична особа"></activiti:value>
        </activiti:formProperty>
        <activiti:formProperty id="sPersonLastName" name="Прізвище заявника" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPersonFirstName" name="Ім'я заявника" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPersonMiddleName" name="По-батькові заявника" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPersonAddress" name="Місце проживання" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPersonPassport" name="Паспортні дані" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPersonINN" name="Номер облікової картки платника податків;не зазначається фізичними особами, які через свої релігійні переконання відмовляються від прийняття реєстраційного номера облікової картки платника податків та повідомили про це відповідному органу державної податкової служби і мають відмітку у паспорті" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sLegalForm" name="Організаційно-правова форма юридичної особи" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sLegalName" name="Найменування юридичної особи" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sLegalAddress" name="Місцезнаходження" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sLegalEDRPOU" name="Код платника податків згідно з ЄДРПОУ або податковий номер" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="phone" name="Номер телефону" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="email" name="Електронна адреса" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sObjectName" name="Найменування об’єкта будівництва" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sObjectAddress" name="Поштова/будівельна адреса об’єкта будівництва" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="saChangeReasons" name="Причини зміни даних" type="enum" writable="false">
          <activiti:value id="sEnumReason1" name="Право на будівництво передано іншому замовникові"></activiti:value>
          <activiti:value id="sEnumReason2" name="Змінено генерального підрядника чи підрядника"></activiti:value>
          <activiti:value id="sEnumReason3" name="Змінено осіб, відповідальних за проведення авторського нагляду"></activiti:value>
          <activiti:value id="sEnumReason4" name="Змінено осіб, відповідальні за проведення технічного нагляду"></activiti:value>
          <activiti:value id="sEnumReason5" name="Змінено відповідальні виконавців робіт"></activiti:value>
        </activiti:formProperty>
        <activiti:formProperty id="sDocEmpComment" name="Коментар співробітника сектору документообігу" type="textArea" writable="false"></activiti:formProperty>
        <activiti:formProperty id="marker3_visible" name="Show-hide" type="markers" default="${markerService.loadFromFile('KMDA/dabi_build_permit_change_vis.json')}"></activiti:formProperty>
        <activiti:taskListener event="create" delegateExpression="${fileTaskInheritance}">
          <activiti:field name="aFieldInheritedAttachmentID">
            <activiti:expression><![CDATA[${nBuildPermitChange}]]></activiti:expression>
          </activiti:field>
        </activiti:taskListener>
      </extensionElements>
    </userTask>
    <sequenceFlow id="flow16" sourceRef="parallelgateway1" targetRef="usertask_step4"></sequenceFlow>
    <userTask id="usertask_step4" name="4. Ознайомлення керівником Управління дозвільних процедур та визначення відповідального" activiti:candidateGroups="kyiv_dabi_permit_boss">
      <extensionElements>
        <activiti:formProperty id="sID_NumberASKOD" name="Реєстраційний номер вхідного документу" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sID_DateASKOD" name="Дата реєстрації вхідного документу" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="asApplicantType" name="Замовник" type="enum" writable="false">
          <activiti:value id="sEnumAppPerson" name="фізична особа"></activiti:value>
          <activiti:value id="sEnumAppLegal" name="юридична особа"></activiti:value>
        </activiti:formProperty>
        <activiti:formProperty id="sPersonLastName" name="Прізвище заявника" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPersonFirstName" name="Ім'я заявника" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPersonMiddleName" name="По-батькові заявника" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPersonAddress" name="Місце проживання" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPersonPassport" name="Паспортні дані" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPersonINN" name="Номер облікової картки платника податків;не зазначається фізичними особами, які через свої релігійні переконання відмовляються від прийняття реєстраційного номера облікової картки платника податків та повідомили про це відповідному органу державної податкової служби і мають відмітку у паспорті" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sLegalForm" name="Організаційно-правова форма юридичної особи" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sLegalName" name="Найменування юридичної особи" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sLegalAddress" name="Місцезнаходження" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sLegalEDRPOU" name="Код платника податків згідно з ЄДРПОУ або податковий номер" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="phone" name="Номер телефону" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="email" name="Електронна адреса" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sObjectName" name="Найменування об’єкта будівництва" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sObjectAddress" name="Поштова/будівельна адреса об’єкта будівництва" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="saChangeReasons" name="Причини зміни даних" type="enum" writable="false">
          <activiti:value id="sEnumReason1" name="Право на будівництво передано іншому замовникові"></activiti:value>
          <activiti:value id="sEnumReason2" name="Змінено генерального підрядника чи підрядника"></activiti:value>
          <activiti:value id="sEnumReason3" name="Змінено осіб, відповідальних за проведення авторського нагляду"></activiti:value>
          <activiti:value id="sEnumReason4" name="Змінено осіб, відповідальні за проведення технічного нагляду"></activiti:value>
          <activiti:value id="sEnumReason5" name="Змінено відповідальні виконавців робіт"></activiti:value>
        </activiti:formProperty>
        <activiti:formProperty id="sDocEmpComment" name="Коментар співробітника сектору документообігу" type="textArea" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sLoginAsignee" name="Відповідальний виконавець;sSelectType=UserByGroup,sSourceFieldID_sID_Group=sID_Group_step6,sDestinationFieldID_sName=sAssigneeName" type="select"></activiti:formProperty>
        <activiti:formProperty id="sID_Group_step6" name="Група виконавців" type="invisible" default="kyiv_dabi_permit_empl"></activiti:formProperty>
        <activiti:formProperty id="sAssigneeName" name="Виконавець" type="invisible"></activiti:formProperty>
        <activiti:formProperty id="sPermitBossComment" name="Коментар" type="textArea"></activiti:formProperty>
        <activiti:formProperty id="marker4_visible" name="Show-hide" type="markers" default="${markerService.loadFromFile('KMDA/dabi_build_permit_change_vis.json')}"></activiti:formProperty>
        <activiti:taskListener event="create" delegateExpression="${fileTaskInheritance}">
          <activiti:field name="aFieldInheritedAttachmentID">
            <activiti:expression><![CDATA[${nBuildPermitChange}]]></activiti:expression>
          </activiti:field>
        </activiti:taskListener>
      </extensionElements>
    </userTask>
    <userTask id="usertask_step6" name="6. Перевірка повноти даних та приняття рішення">
      <extensionElements>
        <activiti:formProperty id="sID_NumberASKOD" name="Реєстраційний номер вхідного документу" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sID_DateASKOD" name="Дата реєстрації вхідного документу" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="asApplicantType" name="Замовник" type="enum" writable="false">
          <activiti:value id="sEnumAppPerson" name="фізична особа"></activiti:value>
          <activiti:value id="sEnumAppLegal" name="юридична особа"></activiti:value>
        </activiti:formProperty>
        <activiti:formProperty id="sPersonLastName" name="Прізвище заявника" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPersonFirstName" name="Ім'я заявника" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPersonMiddleName" name="По-батькові заявника" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPersonAddress" name="Місце проживання" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPersonPassport" name="Паспортні дані" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPersonIPN" name="Номер облікової картки платника податків;не зазначається фізичними особами, які через свої релігійні переконання відмовляються від прийняття реєстраційного номера облікової картки платника податків та повідомили про це відповідному органу державної податкової служби і мають відмітку у паспорті" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sLegalForm" name="Організаційно-правова форма юридичної особи" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sLegalName" name="Найменування юридичної особи" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sLegalAddress" name="Місцезнаходження" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sLegalEDRPOU" name="Код платника податків згідно з ЄДРПОУ або податковий номер" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="phone" name="Номер телефону" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="email" name="Електронна адреса" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPermitNumber" name="Номер дозволу, в який необхідно внести зміни" type="string" required="true"></activiti:formProperty>
        <activiti:formProperty id="sPermitDate" name="Дата видачі Дозволу, в який необхідно внести зміни" type="date" required="true"></activiti:formProperty>
        <activiti:formProperty id="sObjectName" name="Найменування об’єкта будівництва" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sObjectAddress" name="Поштова/будівельна адреса об’єкта будівництва" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="asTypeOfConstruction" name="Вид будівництва" type="enum" required="true">
          <activiti:value id="sEnumNewConstr" name="Нове будівництво"></activiti:value>
          <activiti:value id="sEnumReconstr" name="Реконструкція"></activiti:value>
          <activiti:value id="sEnumTechUpgrade" name="Технічне переоснащення діючих підприємств"></activiti:value>
          <activiti:value id="sEnumRenewal" name="Реставрація"></activiti:value>
          <activiti:value id="sEnumBigRepair" name="Капітальний ремонт"></activiti:value>
        </activiti:formProperty>
        <activiti:formProperty id="sObjectCode" name="Код об’єкта (згідно з Державним класифікатором будівель та споруд ДК 018-2000)" type="string" default="Після доопрацювання буде вибір з довідника" required="true"></activiti:formProperty>
        <activiti:formProperty id="sObjectCategory" name="Категорія складності" type="string"></activiti:formProperty>

        <activiti:formProperty id="sDocEmpComment" name="Коментар співробітника Сектору документообігу" type="textArea" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sBossPermitComment" name="Коментар Керівника Управління дозвільних процедур" type="textArea" writable="false"></activiti:formProperty>
        
        <activiti:formProperty id="asDecision" name="Прийняте рішення" type="enum" required="true">
          <activiti:value id="sEnumDecisionOK" name="Надана повна інформація. Зареєструвати у реєстрі ДАБІ"></activiti:value>
          <activiti:value id="sEnumDecisionReturn" name="Відправити на доопрацювання. Підготувати інформаційний лист."></activiti:value>
        </activiti:formProperty>
        <activiti:formProperty id="sID_NumberDABI" name="Реєстраційний номер з реєстру ДАБІ" type="string"></activiti:formProperty>
        <activiti:formProperty id="sRejectionReason" name="Причина відмови" type="textArea"></activiti:formProperty>
        <activiti:formProperty id="sPermitEmpComment" name="Коментар" type="textArea"></activiti:formProperty>
        <activiti:formProperty id="marker_visible" name="Show-hide" type="markers" default="${markerService.loadFromFile('KMDA/dabi_build_permit_change_vis.json')}"></activiti:formProperty>
        <activiti:formProperty id="marker_required" name="Required" type="markers" default="${markerService.loadFromFile('KMDA/dabi_build_permit_change_req.json')}"></activiti:formProperty>
        <activiti:taskListener event="create" delegateExpression="${assignUser}">
          <activiti:field name="loginAssignee">
            <activiti:expression><![CDATA[sLoginAsignee]]></activiti:expression>
          </activiti:field>
        </activiti:taskListener>
        <activiti:taskListener event="create" delegateExpression="${fileTaskInheritance}">
          <activiti:field name="aFieldInheritedAttachmentID">
            <activiti:expression><![CDATA[${nBuildPermitChange}]]></activiti:expression>
          </activiti:field>
        </activiti:taskListener>
      </extensionElements>
    </userTask>
    <endEvent id="endevent1" name="End"></endEvent>
    <boundaryEvent id="boundarytimer1" name="Timer" attachedToRef="usertask_step6" cancelActivity="false">
      <timerEventDefinition>
        <timeDuration>P4D</timeDuration>
      </timerEventDefinition>
    </boundaryEvent>
    <userTask id="usertask_step_6.1_red" name="6.1 Повідомлення про невиконання завдання" activiti:candidateGroups="kyiv_dabi_permit_doc_boss">
      <extensionElements>
        <activiti:formProperty id="sAssigneeName" name="ПІБ відповідального виконавця" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="asApplicantType" name="Замовник" type="enum" writable="false">
          <activiti:value id="sEnumAppPerson" name="фізична особа"></activiti:value>
          <activiti:value id="sEnumAppLegal" name="юридична особа"></activiti:value>
        </activiti:formProperty>
        <activiti:formProperty id="sPersonLastName" name="Прізвище заявника" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPersonFirstName" name="Ім'я заявника" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPersonMiddleName" name="По-батькові заявника" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sLegalForm" name="Організаційно-правова форма юридичної особи" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sLegalName" name="Найменування юридичної особи" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sLegalAddress" name="Місцезнаходження" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sLegalEDRPOU" name="Код платника податків згідно з ЄДРПОУ або податковий номер" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sObjectName" name="Найменування об’єкта будівництва" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sObjectAddress" name="Поштова/будівельна адреса об’єкта будівництва" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="marker6_visible" name="Show-hide" type="markers" default="${markerService.loadFromFile('KMDA/dabi_build_permit_change_vis.json')}"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="flow27" sourceRef="boundarytimer1" targetRef="usertask_step_6.1_red"></sequenceFlow>
    <boundaryEvent id="boundarytimer2" name="Timer" attachedToRef="usertask_step6" cancelActivity="false">
      <timerEventDefinition>
        <timeDuration>P3D</timeDuration>
      </timerEventDefinition>
    </boundaryEvent>
    <userTask id="usertask_step_6.2_red" name="6.2 Повідомлення про невиконання завдання">
      <extensionElements>
        <activiti:formProperty id="asApplicantType" name="Замовник" type="enum" writable="false">
          <activiti:value id="sEnumAppPerson" name="фізична особа"></activiti:value>
          <activiti:value id="sEnumAppLegal" name="юридична особа"></activiti:value>
        </activiti:formProperty>
        <activiti:formProperty id="sPersonLastName" name="Прізвище заявника" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPersonFirstName" name="Ім'я заявника" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPersonMiddleName" name="По-батькові заявника" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sLegalForm" name="Організаційно-правова форма юридичної особи" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sLegalName" name="Найменування юридичної особи" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sLegalAddress" name="Місцезнаходження" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sLegalEDRPOU" name="Код платника податків згідно з ЄДРПОУ або податковий номер" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sObjectName" name="Найменування об’єкта будівництва" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sObjectAddress" name="Поштова/будівельна адреса об’єкта будівництва" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="marker6_visible" name="Show-hide" type="markers" default="${markerService.loadFromFile('KMDA/dabi_build_permit_change_vis.json')}"></activiti:formProperty>
        <activiti:taskListener event="create" delegateExpression="${assignUser}">
          <activiti:field name="loginAssignee">
            <activiti:expression><![CDATA[sLoginAsignee]]></activiti:expression>
          </activiti:field>
        </activiti:taskListener>
      </extensionElements>
    </userTask>
    <sequenceFlow id="flow29" sourceRef="boundarytimer2" targetRef="usertask_step_6.2_red"></sequenceFlow>
    <parallelGateway id="parallelgateway6" name="Parallel Gateway"></parallelGateway>
    <sequenceFlow id="flow33" sourceRef="usertask_step4" targetRef="parallelgateway6"></sequenceFlow>
    <sequenceFlow id="flow34" sourceRef="parallelgateway6" targetRef="usertask_step6"></sequenceFlow>
    <userTask id="usertask_step5" name="5. Ознайомлення з документом начальника Відділу дозвільних документів" activiti:candidateGroups="kyiv_dabi_permit_doc_boss">
      <extensionElements>
        <activiti:formProperty id="sID_NumberASKOD" name="Реєстраційний номер вхідного документу" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sID_DateASKOD" name="Дата реєстрації вхідного документу" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="asApplicantType" name="Замовник" type="enum" writable="false">
          <activiti:value id="sEnumAppPerson" name="фізична особа"></activiti:value>
          <activiti:value id="sEnumAppLegal" name="юридична особа"></activiti:value>
        </activiti:formProperty>
        <activiti:formProperty id="sPersonLastName" name="Прізвище заявника" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPersonFirstName" name="Ім'я заявника" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPersonMiddleName" name="По-батькові заявника" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPersonAddress" name="Місце проживання" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPersonPassport" name="Паспортні дані" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPersonINN" name="Номер облікової картки платника податків;не зазначається фізичними особами, які через свої релігійні переконання відмовляються від прийняття реєстраційного номера облікової картки платника податків та повідомили про це відповідному органу державної податкової служби і мають відмітку у паспорті" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sLegalForm" name="Організаційно-правова форма юридичної особи" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sLegalName" name="Найменування юридичної особи" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sLegalAddress" name="Місцезнаходження" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sLegalEDRPOU" name="Код платника податків згідно з ЄДРПОУ або податковий номер" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="phone" name="Номер телефону" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="email" name="Електронна адреса" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sObjectName" name="Найменування об’єкта будівництва" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sObjectAddress" name="Поштова/будівельна адреса об’єкта будівництва" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="saChangeReasons" name="Причини зміни даних" type="enum" writable="false">
          <activiti:value id="sEnumReason1" name="Право на будівництво передано іншому замовникові"></activiti:value>
          <activiti:value id="sEnumReason2" name="Змінено генерального підрядника чи підрядника"></activiti:value>
          <activiti:value id="sEnumReason3" name="Змінено осіб, відповідальних за проведення авторського нагляду"></activiti:value>
          <activiti:value id="sEnumReason4" name="Змінено осіб, відповідальні за проведення технічного нагляду"></activiti:value>
          <activiti:value id="sEnumReason5" name="Змінено відповідальні виконавців робіт"></activiti:value>
        </activiti:formProperty>
        <activiti:formProperty id="sDocEmpComment" name="Коментар співробітника Сектору документообігу" type="textArea" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sAssigneeName" name="Відповідальний виконавець" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPermitBossComment" name="Коментар Керівника Управління дозвільних процедур" type="textArea" writable="false"></activiti:formProperty>
        <activiti:formProperty id="marker4_visible" name="Show-hide" type="markers" default="${markerService.loadFromFile('KMDA/dabi_build_permit_change_vis.json')}"></activiti:formProperty>
        <activiti:taskListener event="create" delegateExpression="${fileTaskInheritance}">
          <activiti:field name="aFieldInheritedAttachmentID">
            <activiti:expression><![CDATA[${nBuildPermitChange}]]></activiti:expression>
          </activiti:field>
        </activiti:taskListener>
      </extensionElements>
    </userTask>
    <userTask id="usertask_step14_ok" name="14. Підтвердження реєстрації" activiti:candidateGroups="kyiv_dabi_doc">
      <extensionElements>
        <activiti:formProperty id="sID_NumberASKOD" name="Реєстраційний номер вхідного документу" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sID_DateASKOD" name="Дата реєстрації вхідного документу" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="asApplicantType" name="Замовник" type="enum" writable="false">
          <activiti:value id="sEnumAppPerson" name="фізична особа"></activiti:value>
          <activiti:value id="sEnumAppLegal" name="юридична особа"></activiti:value>
        </activiti:formProperty>
        <activiti:formProperty id="sPersonLastName" name="Прізвище заявника" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPersonFirstName" name="Ім'я заявника" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPersonMiddleName" name="По-батькові заявника" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPersonAddress" name="Місце проживання" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPersonPassport" name="Паспортні дані" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPersonIPN" name="Номер облікової картки платника податків;не зазначається фізичними особами, які через свої релігійні переконання відмовляються від прийняття реєстраційного номера облікової картки платника податків та повідомили про це відповідному органу державної податкової служби і мають відмітку у паспорті" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sLegalForm" name="Організаційно-правова форма юридичної особи" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sLegalName" name="Найменування юридичної особи" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sLegalAddress" name="Місцезнаходження" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sLegalEDRPOU" name="Код платника податків згідно з ЄДРПОУ або податковий номер" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="phone" name="Номер телефону" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="email" name="Електронна адреса" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPermitNumber" name="Номер дозволу, в який необхідно внести зміни" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPermitDate" name="Дата видачі Дозволу, в який необхідно внести зміни" type="date" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sObjectName" name="Найменування об’єкта будівництва" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sObjectAddress" name="Поштова/будівельна адреса об’єкта будівництва" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="saChangeReasons" name="Причини зміни даних" type="enum" writable="false">
          <activiti:value id="sEnumReason1" name="Право на будівництво передано іншому замовникові"></activiti:value>
          <activiti:value id="sEnumReason2" name="Змінено генерального підрядника чи підрядника"></activiti:value>
          <activiti:value id="sEnumReason3" name="Змінено осіб, відповідальних за проведення авторського нагляду"></activiti:value>
          <activiti:value id="sEnumReason4" name="Змінено осіб, відповідальні за проведення технічного нагляду"></activiti:value>
          <activiti:value id="sEnumReason5" name="Змінено відповідальні виконавців робіт"></activiti:value>
        </activiti:formProperty>

        <activiti:formProperty id="asTypeOfConstruction" name="Вид будівництва" type="enum" writable="false">
          <activiti:value id="sEnumNewConstr" name="Нове будівництво"></activiti:value>
          <activiti:value id="sEnumReconstr" name="Реконструкція"></activiti:value>
          <activiti:value id="sEnumTechUpgrade" name="Технічне переоснащення діючих підприємств"></activiti:value>
          <activiti:value id="sEnumRenewal" name="Реставрація"></activiti:value>
          <activiti:value id="sEnumBigRepair" name="Капітальний ремонт"></activiti:value>
        </activiti:formProperty>
        <activiti:formProperty id="sObjectCode" name="Код об’єкта (згідно з Державним класифікатором будівель та споруд ДК 018-2000)" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sObjectCategory" name="Категорія складності" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sDocEmpComment" name="Коментар співробітника Сектору документообігу" type="textArea" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sBossPermitComment" name="Коментар Керівника Управління дозвільних процедур" type="textArea" writable="false"></activiti:formProperty>
        <activiti:formProperty id="asDecision" name="Прийняте рішення" type="enum" writable="false">
          <activiti:value id="sEnumDecisionOK" name="Надана повна інформація. Зареєструвати у реєстрі ДАБІ"></activiti:value>
          <activiti:value id="sEnumDecisionReturn" name="Відправити на доопрацювання. Підготувати інформаційний лист."></activiti:value>
        </activiti:formProperty>
        <activiti:formProperty id="sID_NumberDABI" name="Реєстраційний номер з реєстру ДАБІ" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sRejectionReason" name="Причина відмови" type="textArea" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sPermitEmpComment" name="Коментар співробітника Відділу дозвільних документів" type="textArea" writable="false"></activiti:formProperty>
        <activiti:formProperty id="sID_NumberOutputDoc" name="Реєстраційний номер вихідного документу" type="string" required="true"></activiti:formProperty>
        <activiti:formProperty id="sID_DateOutputDoc" name="Дата реєстрації вихідного документу" type="string" required="true"></activiti:formProperty>
        <activiti:formProperty id="marker6_visible" name="Show-hide" type="markers" default="${markerService.loadFromFile('KMDA/dabi_build_permit_change_vis.json')}"></activiti:formProperty>
        <activiti:taskListener event="create" delegateExpression="${fileTaskInheritance}">
          <activiti:field name="aFieldInheritedAttachmentID">
            <activiti:expression><![CDATA[${nBuildPermitChange}]]></activiti:expression>
          </activiti:field>
        </activiti:taskListener>
      </extensionElements>
    </userTask>
    <sequenceFlow id="flow39" sourceRef="usertask_step14_ok" targetRef="scripttask1"></sequenceFlow>
    <serviceTask id="servicetask_step14.1" name="14.1 повідомлення про не реєстрацію" activiti:delegateExpression="#{MailTaskWithoutAttachment}">
      <extensionElements>
        <activiti:field name="from">
          <activiti:expression><![CDATA[noreply@dabi.gov.ua]]></activiti:expression>
        </activiti:field>
        <activiti:field name="to">
          <activiti:expression><![CDATA[${email}]]></activiti:expression>
        </activiti:field>
        <activiti:field name="subject">
          <activiti:expression><![CDATA[Про результат опрацювання документів про зміну даних у повідомленні про початок виконання підготовчих робіт.]]></activiti:expression>
        </activiti:field>
        <activiti:field name="text">
          <activiti:expression><![CDATA[${TextLetter}]]></activiti:expression>
        </activiti:field>
      </extensionElements>
    </serviceTask>
    <userTask id="usertask_Upload_file" name="Upload File" activiti:candidateGroups="kyiv_dabi_doc">
      <extensionElements>
        <activiti:taskListener event="create" delegateExpression="${fileTaskUploadListener}"></activiti:taskListener>
        <activiti:taskListener event="create" delegateExpression="${fileTaskInheritance}">
          <activiti:field name="aFieldInheritedAttachmentID">
            <activiti:expression><![CDATA[${nBuildPermitChange}]]></activiti:expression>
          </activiti:field>
        </activiti:taskListener>
      </extensionElements>
    </userTask>
    <boundaryEvent id="boundarytimer3" name="Timer" attachedToRef="usertask_Upload_file" cancelActivity="true">
      <timerEventDefinition>
        <timeDuration>PT5S</timeDuration>
      </timerEventDefinition>
    </boundaryEvent>
    <sequenceFlow id="flow45" sourceRef="boundarytimer3" targetRef="parallelgateway1"></sequenceFlow>
    <userTask id="usertask1" name="CheckAssigneeGroup"></userTask>
    <boundaryEvent id="boundarytimer4" name="Timer" attachedToRef="usertask1" cancelActivity="true">
      <timerEventDefinition>
        <timeDuration>PT5S</timeDuration>
      </timerEventDefinition>
    </boundaryEvent>
    <exclusiveGateway id="exclusivegateway3" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow46" sourceRef="parallelgateway6" targetRef="usertask1"></sequenceFlow>
    <sequenceFlow id="flow47" sourceRef="boundarytimer4" targetRef="exclusivegateway3"></sequenceFlow>
    <sequenceFlow id="flow48" sourceRef="exclusivegateway3" targetRef="usertask_step5">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${sResult == 'False'}]]></conditionExpression>
    </sequenceFlow>
    <exclusiveGateway id="exclusivegateway4" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow49" sourceRef="usertask_step5" targetRef="exclusivegateway4"></sequenceFlow>
    <sequenceFlow id="flow50" sourceRef="exclusivegateway3" targetRef="exclusivegateway4">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${sResult == 'True'}]]></conditionExpression>
    </sequenceFlow>
    <scriptTask id="scripttask1" name="Email заповнено?" scriptFormat="javascript" activiti:autoStoreVariables="false">
      <script>var res = 'res'
if(execution.getVariable('email') != null)
{res = 'sendEmail'}
else{ res = 'noSendEmail' }

execution.setVariable('sAnswerEmail', res)
</script>
    </scriptTask>
    <sequenceFlow id="flow51" sourceRef="usertask_step6" targetRef="usertask_step14_ok"></sequenceFlow>
    <exclusiveGateway id="exclusivegateway5" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow52" sourceRef="scripttask1" targetRef="exclusivegateway5"></sequenceFlow>
    <sequenceFlow id="flow53" sourceRef="exclusivegateway5" targetRef="scripttask2">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${sAnswerEmail == 'sendEmail'}]]></conditionExpression>
    </sequenceFlow>
    <scriptTask id="scripttask2" name="User Task" activiti:autoStoreVariables="false">
      <script>var isRegistered  = ""
var sMessage =""

if (execution.getVariable('asDecision') == 'sEnumDecisionReturn'){
  isRegistered = "не "
}

sMessage = "&lt;p&gt;Надіслане до Департаменту з питань державного архітектурно-будівельного контролю міста Києва виконавчого органу Київської міської ради (Київської міської державної адміністрації) повідомлення про зміну даних у Дозволі на виконання підготовчих робіт "+ isRegistered + "зареєстровано у єдиному реєстрі документів, що дають право на виконання підготовчих та будівельних робіт і засвідчують прийняття в експлуатацію закінчених будівництвом об’єктів, відомостей про повернення на доопрацювання, відмову у видачі, скасування та анулювання зазначених документів.&lt;/p&gt;"
if (execution.getVariable('asDecision') == 'sEnumDecisionOK'){
  sMessage = sMessage + "&lt;p&gt;Реєстраційний номер: " + execution.getVariable('sID_NumberDABI') +"&lt;/p&gt;"
}
execution.setVariable('sTextLetter', sMessage)</script>
    </scriptTask>
    <sequenceFlow id="flow54" sourceRef="scripttask2" targetRef="servicetask_step14.1"></sequenceFlow>
    <exclusiveGateway id="exclusivegateway6" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow55" sourceRef="exclusivegateway5" targetRef="exclusivegateway6">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${sAnswerEmail == 'noSendEmail'}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow56" sourceRef="servicetask_step14.1" targetRef="exclusivegateway6"></sequenceFlow>
    <sequenceFlow id="flow57" sourceRef="exclusivegateway6" targetRef="parallelgateway7"></sequenceFlow>
    <parallelGateway id="parallelgateway7" name="Exclusive Gateway"></parallelGateway>
    <sequenceFlow id="flow58" sourceRef="exclusivegateway4" targetRef="parallelgateway7"></sequenceFlow>
    <sequenceFlow id="flow59" sourceRef="usertask_step2" targetRef="parallelgateway7"></sequenceFlow>
    <sequenceFlow id="flow60" sourceRef="usertask_step3" targetRef="parallelgateway7"></sequenceFlow>
    <endEvent id="endevent2" name="End"></endEvent>
    <sequenceFlow id="flow61" sourceRef="parallelgateway7" targetRef="endevent2"></sequenceFlow>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_dabi_build_permit_change">
    <bpmndi:BPMNPlane bpmnElement="dabi_build_permit_change" id="BPMNPlane_dabi_build_permit_change">
      <bpmndi:BPMNShape bpmnElement="startevent_step1" id="BPMNShape_startevent_step1">
        <omgdc:Bounds height="35.0" width="35.0" x="47.0" y="42.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="parallelgateway1" id="BPMNShape_parallelgateway1">
        <omgdc:Bounds height="40.0" width="40.0" x="104.0" y="212.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask_step2" id="BPMNShape_usertask_step2">
        <omgdc:Bounds height="61.0" width="174.0" x="150.0" y="251.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask_step3" id="BPMNShape_usertask_step3">
        <omgdc:Bounds height="61.0" width="175.0" x="149.0" y="340.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask_step4" id="BPMNShape_usertask_step4">
        <omgdc:Bounds height="72.0" width="175.0" x="150.0" y="29.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask_step6" id="BPMNShape_usertask_step6">
        <omgdc:Bounds height="72.0" width="143.0" x="611.0" y="29.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="boundarytimer1" id="BPMNShape_boundarytimer1">
        <omgdc:Bounds height="30.0" width="30.0" x="724.0" y="30.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="boundarytimer2" id="BPMNShape_boundarytimer2">
        <omgdc:Bounds height="30.0" width="30.0" x="724.0" y="70.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="endevent1" id="BPMNShape_endevent1">
        <omgdc:Bounds height="35.0" width="35.0" x="1120.0" y="195.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask_step_6.1_red" id="BPMNShape_usertask_step_6.1_red">
        <omgdc:Bounds height="57.0" width="121.0" x="790.0" y="3.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask_step_6.2_red" id="BPMNShape_usertask_step_6.2_red">
        <omgdc:Bounds height="61.0" width="122.0" x="790.0" y="64.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="parallelgateway6" id="BPMNShape_parallelgateway6">
        <omgdc:Bounds height="40.0" width="40.0" x="435.0" y="44.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask_step5" id="BPMNShape_usertask_step5">
        <omgdc:Bounds height="72.0" width="157.0" x="426.0" y="227.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask_step14_ok" id="BPMNShape_usertask_step14_ok">
        <omgdc:Bounds height="68.0" width="105.0" x="630.0" y="131.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="servicetask_step14.1" id="BPMNShape_servicetask_step14.1">
        <omgdc:Bounds height="66.0" width="105.0" x="630.0" y="295.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask_Upload_file" id="BPMNShape_usertask_Upload_file">
        <omgdc:Bounds height="55.0" width="105.0" x="12.0" y="136.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="boundarytimer3" id="BPMNShape_boundarytimer3">
        <omgdc:Bounds height="30.0" width="30.0" x="87.0" y="164.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask1" id="BPMNShape_usertask1">
        <omgdc:Bounds height="55.0" width="115.0" x="398.0" y="110.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="boundarytimer4" id="BPMNShape_boundarytimer4">
        <omgdc:Bounds height="30.0" width="30.0" x="490.0" y="140.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway3" id="BPMNShape_exclusivegateway3">
        <omgdc:Bounds height="40.0" width="40.0" x="435.0" y="179.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway4" id="BPMNShape_exclusivegateway4">
        <omgdc:Bounds height="40.0" width="40.0" x="435.0" y="311.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="scripttask1" id="BPMNShape_scripttask1">
        <omgdc:Bounds height="55.0" width="105.0" x="790.0" y="137.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway5" id="BPMNShape_exclusivegateway5">
        <omgdc:Bounds height="40.0" width="40.0" x="822.0" y="224.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="scripttask2" id="BPMNShape_scripttask2">
        <omgdc:Bounds height="55.0" width="105.0" x="630.0" y="217.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway6" id="BPMNShape_exclusivegateway6">
        <omgdc:Bounds height="40.0" width="40.0" x="822.0" y="307.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="parallelgateway7" id="BPMNShape_parallelgateway7">
        <omgdc:Bounds height="40.0" width="40.0" x="550.0" y="350.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="endevent2" id="BPMNShape_endevent2">
        <omgdc:Bounds height="35.0" width="35.0" x="553.0" y="410.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="flow1" id="BPMNEdge_flow1">
        <omgdi:waypoint x="64.0" y="77.0"></omgdi:waypoint>
        <omgdi:waypoint x="64.0" y="136.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow17" id="BPMNEdge_flow17">
        <omgdi:waypoint x="124.0" y="252.0"></omgdi:waypoint>
        <omgdi:waypoint x="124.0" y="283.0"></omgdi:waypoint>
        <omgdi:waypoint x="150.0" y="281.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow18" id="BPMNEdge_flow18">
        <omgdi:waypoint x="124.0" y="252.0"></omgdi:waypoint>
        <omgdi:waypoint x="124.0" y="366.0"></omgdi:waypoint>
        <omgdi:waypoint x="149.0" y="370.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow16" id="BPMNEdge_flow16">
        <omgdi:waypoint x="124.0" y="212.0"></omgdi:waypoint>
        <omgdi:waypoint x="124.0" y="65.0"></omgdi:waypoint>
        <omgdi:waypoint x="150.0" y="65.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow27" id="BPMNEdge_flow27">
        <omgdi:waypoint x="754.0" y="45.0"></omgdi:waypoint>
        <omgdi:waypoint x="790.0" y="31.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow29" id="BPMNEdge_flow29">
        <omgdi:waypoint x="754.0" y="85.0"></omgdi:waypoint>
        <omgdi:waypoint x="790.0" y="94.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow33" id="BPMNEdge_flow33">
        <omgdi:waypoint x="325.0" y="65.0"></omgdi:waypoint>
        <omgdi:waypoint x="435.0" y="64.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow34" id="BPMNEdge_flow34">
        <omgdi:waypoint x="475.0" y="64.0"></omgdi:waypoint>
        <omgdi:waypoint x="611.0" y="65.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow39" id="BPMNEdge_flow39">
        <omgdi:waypoint x="735.0" y="165.0"></omgdi:waypoint>
        <omgdi:waypoint x="790.0" y="164.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow45" id="BPMNEdge_flow45">
        <omgdi:waypoint x="102.0" y="194.0"></omgdi:waypoint>
        <omgdi:waypoint x="124.0" y="212.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow46" id="BPMNEdge_flow46">
        <omgdi:waypoint x="455.0" y="84.0"></omgdi:waypoint>
        <omgdi:waypoint x="455.0" y="110.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow47" id="BPMNEdge_flow47">
        <omgdi:waypoint x="490.0" y="155.0"></omgdi:waypoint>
        <omgdi:waypoint x="455.0" y="179.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow48" id="BPMNEdge_flow48">
        <omgdi:waypoint x="475.0" y="199.0"></omgdi:waypoint>
        <omgdi:waypoint x="503.0" y="199.0"></omgdi:waypoint>
        <omgdi:waypoint x="504.0" y="227.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow49" id="BPMNEdge_flow49">
        <omgdi:waypoint x="504.0" y="299.0"></omgdi:waypoint>
        <omgdi:waypoint x="505.0" y="330.0"></omgdi:waypoint>
        <omgdi:waypoint x="475.0" y="331.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow50" id="BPMNEdge_flow50">
        <omgdi:waypoint x="435.0" y="199.0"></omgdi:waypoint>
        <omgdi:waypoint x="400.0" y="199.0"></omgdi:waypoint>
        <omgdi:waypoint x="400.0" y="329.0"></omgdi:waypoint>
        <omgdi:waypoint x="435.0" y="331.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow51" id="BPMNEdge_flow51">
        <omgdi:waypoint x="682.0" y="101.0"></omgdi:waypoint>
        <omgdi:waypoint x="682.0" y="131.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow52" id="BPMNEdge_flow52">
        <omgdi:waypoint x="842.0" y="192.0"></omgdi:waypoint>
        <omgdi:waypoint x="842.0" y="224.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow53" id="BPMNEdge_flow53">
        <omgdi:waypoint x="822.0" y="244.0"></omgdi:waypoint>
        <omgdi:waypoint x="735.0" y="244.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow54" id="BPMNEdge_flow54">
        <omgdi:waypoint x="682.0" y="272.0"></omgdi:waypoint>
        <omgdi:waypoint x="682.0" y="295.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow55" id="BPMNEdge_flow55">
        <omgdi:waypoint x="842.0" y="264.0"></omgdi:waypoint>
        <omgdi:waypoint x="842.0" y="307.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow56" id="BPMNEdge_flow56">
        <omgdi:waypoint x="735.0" y="328.0"></omgdi:waypoint>
        <omgdi:waypoint x="822.0" y="327.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow57" id="BPMNEdge_flow57">
        <omgdi:waypoint x="842.0" y="347.0"></omgdi:waypoint>
        <omgdi:waypoint x="846.0" y="370.0"></omgdi:waypoint>
        <omgdi:waypoint x="590.0" y="370.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow58" id="BPMNEdge_flow58">
        <omgdi:waypoint x="455.0" y="351.0"></omgdi:waypoint>
        <omgdi:waypoint x="455.0" y="369.0"></omgdi:waypoint>
        <omgdi:waypoint x="550.0" y="370.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow59" id="BPMNEdge_flow59">
        <omgdi:waypoint x="324.0" y="281.0"></omgdi:waypoint>
        <omgdi:waypoint x="381.0" y="282.0"></omgdi:waypoint>
        <omgdi:waypoint x="381.0" y="369.0"></omgdi:waypoint>
        <omgdi:waypoint x="550.0" y="370.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow60" id="BPMNEdge_flow60">
        <omgdi:waypoint x="324.0" y="370.0"></omgdi:waypoint>
        <omgdi:waypoint x="550.0" y="370.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow61" id="BPMNEdge_flow61">
        <omgdi:waypoint x="570.0" y="390.0"></omgdi:waypoint>
        <omgdi:waypoint x="570.0" y="410.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>